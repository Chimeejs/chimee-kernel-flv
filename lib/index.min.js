!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.chimeeKernelFlv=t():e.chimeeKernelFlv=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(e){return e&&e.__esModule?e.default:e}function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){return Array.isArray(e)}function i(e){return"function"==typeof e}function o(e){return Object(e)===e&&"[object Object]"===String(e)&&!i(e)&&!r(e)}function a(e,t){var n=e.__evt_id;n||(Object.defineProperty(e,"__evt_id",{writable:!0,enumerable:!1,configurable:!0}),n=e.__evt_id=++mn.count);var r=n+"_"+t,i=mn[r];return i||(i=mn[r]=[]),i}function s(e,t,n){var r=Zt(null);r.type=t,r.target=e,n&&Xt(r,o(n)?n:{data:n}),a(e,t).forEach(function(t){(t[1]||t[0]).apply(e,[r])})}function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments[4];i(r)&&!o&&(o=r,r=void 0);var s=[n,void 0,r];r&&!o&&(o=function(){c(e,t,n,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];n.apply(e,o)}),o&&(s[1]=o),a(e,t).push(s)}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=a(e,t);if(n||r){var o=-1,s=void 0;return i.find(function(e,t){if((!n||e[0]===n)&&(!r||e[2]))return o=t,s=e[1],!0}),-1!==o&&i.splice(o,1),s}i.length=0}var f=Math.ceil,l=Math.floor,d=function(e){return isNaN(e=+e)?0:(e>0?l:f)(e)},h=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},p=n(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),v=n(function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)}),y=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},m=function(e,t,n){if(y(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},g=function(e){return"object"==typeof e?null!==e:"function"==typeof e},b=function(e){if(!g(e))throw TypeError(e+" is not an object!");return e},_=function(e){try{return!!e()}catch(e){return!0}},w=!_(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),S=p.document,k=g(S)&&g(S.createElement),O=function(e){return k?S.createElement(e):{}},E=!w&&!_(function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a}),x=function(e,t){if(!g(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!g(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!g(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!g(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},A=Object.defineProperty,M=w?Object.defineProperty:function(e,t,n){if(b(e),t=x(t,!0),b(n),E)try{return A(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},j={f:M},T=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},L=w?function(e,t,n){return j.f(e,t,T(1,n))}:function(e,t,n){return e[t]=n,e},P=function(e,t,n){var r,i,o,a=e&P.F,s=e&P.G,u=e&P.S,c=e&P.P,f=e&P.B,l=e&P.W,d=s?v:v[t]||(v[t]={}),h=d.prototype,y=s?p:u?p[t]:(p[t]||{}).prototype;s&&(n=t);for(r in n)(i=!a&&y&&void 0!==y[r])&&r in d||(o=i?y[r]:n[r],d[r]=s&&"function"!=typeof y[r]?n[r]:f&&i?m(o,p):l&&y[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[r]=o,e&P.R&&h&&!h[r]&&L(h,r,o)))};P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128;var C=P,B=L,R={}.hasOwnProperty,D=function(e,t){return R.call(e,t)},I={},N={}.toString,U=function(e){return N.call(e).slice(8,-1)},F=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==U(e)?e.split(""):Object(e)},z=function(e){return F(h(e))},V=Math.min,G=function(e){return e>0?V(d(e),9007199254740991):0},q=Math.max,W=Math.min,H=function(e,t){return e=d(e),e<0?q(e+t,0):W(e,t)},K=p["__core-js_shared__"]||(p["__core-js_shared__"]={}),J=function(e){return K[e]||(K[e]={})},X=0,Y=Math.random(),$=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++X+Y).toString(36))},Q=J("keys"),Z=function(e){return Q[e]||(Q[e]=$(e))},ee=function(e){return function(t,n,r){var i,o=z(t),a=G(o.length),s=H(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}}(!1),te=Z("IE_PROTO"),ne=function(e,t){var n,r=z(e),i=0,o=[];for(n in r)n!=te&&D(r,n)&&o.push(n);for(;t.length>i;)D(r,n=t[i++])&&(~ee(o,n)||o.push(n));return o},re="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ie=Object.keys||function(e){return ne(e,re)},oe=w?Object.defineProperties:function(e,t){b(e);for(var n,r=ie(t),i=r.length,o=0;i>o;)j.f(e,n=r[o++],t[n]);return e},ae=p.document&&document.documentElement,se=Z("IE_PROTO"),ue=function(){},ce=function(){var e,t=O("iframe"),n=re.length;for(t.style.display="none",ae.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),ce=e.F;n--;)delete ce.prototype[re[n]];return ce()},fe=Object.create||function(e,t){var n;return null!==e?(ue.prototype=b(e),n=new ue,ue.prototype=null,n[se]=e):n=ce(),void 0===t?n:oe(n,t)},le=n(function(e){var t=J("wks"),n=p.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:$)("Symbol."+e))}).store=t}),de=j.f,he=le("toStringTag"),pe=function(e,t,n){e&&!D(e=n?e:e.prototype,he)&&de(e,he,{configurable:!0,value:t})},ve={};L(ve,le("iterator"),function(){return this});var ye=function(e,t,n){e.prototype=fe(ve,{next:T(1,n)}),pe(e,t+" Iterator")},me=function(e){return Object(h(e))},ge=Z("IE_PROTO"),be=Object.prototype,_e=Object.getPrototypeOf||function(e){return e=me(e),D(e,ge)?e[ge]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?be:null},we=le("iterator"),Se=!([].keys&&"next"in[].keys()),ke=function(){return this},Oe=function(e,t,n,r,i,o,a){ye(n,t,r);var s,u,c,f=function(e){if(!Se&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},l=t+" Iterator",d="values"==i,h=!1,p=e.prototype,v=p[we]||p["@@iterator"]||i&&p[i],y=v||f(i),m=i?d?f("entries"):y:void 0,g="Array"==t?p.entries||v:v;if(g&&(c=_e(g.call(new e)))!==Object.prototype&&pe(c,l,!0),d&&v&&"values"!==v.name&&(h=!0,y=function(){return v.call(this)}),a&&(Se||h||!p[we])&&L(p,we,y),I[t]=y,I[l]=ke,i)if(s={values:d?y:f("values"),keys:o?y:f("keys"),entries:m},a)for(u in s)u in p||B(p,u,s[u]);else C(C.P+C.F*(Se||h),t,s);return s},Ee=function(e){return function(t,n){var r,i,o=String(h(t)),a=d(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536)}}(!0);Oe(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Ee(t,n),this._i+=e.length,{value:e,done:!1})});var xe=function(e,t){return{value:t,done:!!e}};Oe(Array,"Array",function(e,t){this._t=z(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,xe(1)):"keys"==t?xe(0,n):"values"==t?xe(0,e[n]):xe(0,[n,e[n]])},"values");I.Arguments=I.Array;for(var Ae=le("toStringTag"),Me=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],je=0;je<5;je++){var Te=Me[je],Le=p[Te],Pe=Le&&Le.prototype;Pe&&!Pe[Ae]&&L(Pe,Ae,Te),I[Te]=I.Array}var Ce=le,Be={f:Ce},Re=Be.f("iterator"),De=n(function(e){e.exports={default:Re,__esModule:!0}}),Ie=n(function(e){var t=$("meta"),n=j.f,r=0,i=Object.isExtensible||function(){return!0},o=!_(function(){return i(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=function(e,n){if(!g(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!D(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},u=function(e,n){if(!D(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},c=function(e){return o&&f.NEED&&i(e)&&!D(e,t)&&a(e),e},f=e.exports={KEY:t,NEED:!1,fastKey:s,getWeak:u,onFreeze:c}}),Ne=j.f,Ue=function(e){var t=v.Symbol||(v.Symbol={});"_"==e.charAt(0)||e in t||Ne(t,e,{value:Be.f(e)})},Fe=function(e,t){for(var n,r=z(e),i=ie(r),o=i.length,a=0;o>a;)if(r[n=i[a++]]===t)return n},ze=Object.getOwnPropertySymbols,Ve={f:ze},Ge={}.propertyIsEnumerable,qe={f:Ge},We=function(e){var t=ie(e),n=Ve.f;if(n)for(var r,i=n(e),o=qe.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t},He=Array.isArray||function(e){return"Array"==U(e)},Ke=re.concat("length","prototype"),Je=Object.getOwnPropertyNames||function(e){return ne(e,Ke)},Xe={f:Je},Ye=Xe.f,$e={}.toString,Qe="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ze=function(e){try{return Ye(e)}catch(e){return Qe.slice()}},et=function(e){return Qe&&"[object Window]"==$e.call(e)?Ze(e):Ye(z(e))},tt={f:et},nt=Object.getOwnPropertyDescriptor,rt=w?nt:function(e,t){if(e=z(e),t=x(t,!0),E)try{return nt(e,t)}catch(e){}if(D(e,t))return T(!qe.f.call(e,t),e[t])},it={f:rt},ot=Ie.KEY,at=it.f,st=j.f,ut=tt.f,ct=p.Symbol,ft=p.JSON,lt=ft&&ft.stringify,dt=le("_hidden"),ht=le("toPrimitive"),pt={}.propertyIsEnumerable,vt=J("symbol-registry"),yt=J("symbols"),mt=J("op-symbols"),gt=Object.prototype,bt="function"==typeof ct,_t=p.QObject,wt=!_t||!_t.prototype||!_t.prototype.findChild,St=w&&_(function(){return 7!=fe(st({},"a",{get:function(){return st(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=at(gt,t);r&&delete gt[t],st(e,t,n),r&&e!==gt&&st(gt,t,r)}:st,kt=function(e){var t=yt[e]=fe(ct.prototype);return t._k=e,t},Ot=bt&&"symbol"==typeof ct.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof ct},Et=function(e,t,n){return e===gt&&Et(mt,t,n),b(e),t=x(t,!0),b(n),D(yt,t)?(n.enumerable?(D(e,dt)&&e[dt][t]&&(e[dt][t]=!1),n=fe(n,{enumerable:T(0,!1)})):(D(e,dt)||st(e,dt,T(1,{})),e[dt][t]=!0),St(e,t,n)):st(e,t,n)},xt=function(e,t){b(e);for(var n,r=We(t=z(t)),i=0,o=r.length;o>i;)Et(e,n=r[i++],t[n]);return e},At=function(e,t){return void 0===t?fe(e):xt(fe(e),t)},Mt=function(e){var t=pt.call(this,e=x(e,!0));return!(this===gt&&D(yt,e)&&!D(mt,e))&&(!(t||!D(this,e)||!D(yt,e)||D(this,dt)&&this[dt][e])||t)},jt=function(e,t){if(e=z(e),t=x(t,!0),e!==gt||!D(yt,t)||D(mt,t)){var n=at(e,t);return!n||!D(yt,t)||D(e,dt)&&e[dt][t]||(n.enumerable=!0),n}},Tt=function(e){for(var t,n=ut(z(e)),r=[],i=0;n.length>i;)D(yt,t=n[i++])||t==dt||t==ot||r.push(t);return r},Lt=function(e){for(var t,n=e===gt,r=ut(n?mt:z(e)),i=[],o=0;r.length>o;)!D(yt,t=r[o++])||n&&!D(gt,t)||i.push(yt[t]);return i};bt||(ct=function(){if(this instanceof ct)throw TypeError("Symbol is not a constructor!");var e=$(arguments.length>0?arguments[0]:void 0),t=function(n){this===gt&&t.call(mt,n),D(this,dt)&&D(this[dt],e)&&(this[dt][e]=!1),St(this,e,T(1,n))};return w&&wt&&St(gt,e,{configurable:!0,set:t}),kt(e)},B(ct.prototype,"toString",function(){return this._k}),it.f=jt,j.f=Et,Xe.f=tt.f=Tt,qe.f=Mt,Ve.f=Lt,Be.f=function(e){return kt(le(e))}),C(C.G+C.W+C.F*!bt,{Symbol:ct});for(var Pt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ct=0;Pt.length>Ct;)le(Pt[Ct++]);for(var Pt=ie(le.store),Ct=0;Pt.length>Ct;)Ue(Pt[Ct++]);C(C.S+C.F*!bt,"Symbol",{for:function(e){return D(vt,e+="")?vt[e]:vt[e]=ct(e)},keyFor:function(e){if(Ot(e))return Fe(vt,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){wt=!0},useSimple:function(){wt=!1}}),C(C.S+C.F*!bt,"Object",{create:At,defineProperty:Et,defineProperties:xt,getOwnPropertyDescriptor:jt,getOwnPropertyNames:Tt,getOwnPropertySymbols:Lt}),ft&&C(C.S+C.F*(!bt||_(function(){var e=ct();return"[null]"!=lt([e])||"{}"!=lt({a:e})||"{}"!=lt(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Ot(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&He(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!Ot(t))return t}),r[1]=t,lt.apply(ft,r)}}}),ct.prototype[ht]||L(ct.prototype,ht,ct.prototype.valueOf),pe(ct,"Symbol"),pe(Math,"Math",!0),pe(p.JSON,"JSON",!0),Ue("asyncIterator"),Ue("observable");var Bt=v.Symbol,Rt=n(function(e){e.exports={default:Bt,__esModule:!0}}),Dt=n(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(De),i=n(Rt),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}}),It=t(Dt),Nt=n(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),Ut=t(Nt);C(C.S+C.F*!w,"Object",{defineProperty:j.f});var Ft=v.Object,zt=function(e,t,n){return Ft.defineProperty(e,t,n)},Vt=n(function(e){e.exports={default:zt,__esModule:!0}}),Gt=n(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(Vt);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}),qt=t(Gt),Wt=Object.assign,Ht=!Wt||_(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=Wt({},e)[n]||Object.keys(Wt({},t)).join("")!=r})?function(e,t){for(var n=me(e),r=arguments.length,i=1,o=Ve.f,a=qe.f;r>i;)for(var s,u=F(arguments[i++]),c=o?ie(u).concat(o(u)):ie(u),f=c.length,l=0;f>l;)a.call(u,s=c[l++])&&(n[s]=u[s]);return n}:Wt;C(C.S+C.F,"Object",{assign:Ht});var Kt=v.Object.assign,Jt=n(function(e){e.exports={default:Kt,__esModule:!0}}),Xt=t(Jt);C(C.S,"Object",{create:fe});var Yt=v.Object,$t=function(e,t){return Yt.create(e,t)},Qt=n(function(e){e.exports={default:$t,__esModule:!0}}),Zt=t(Qt);!function(e,t){var n=(v.Object||{})[e]||Object[e],r={};r[e]=t(n),C(C.S+C.F*_(function(){n(1)}),"Object",r)}("keys",function(){return function(e){return ie(me(e))}});var en=v.Object.keys,tn=(n(function(e){e.exports={default:en,__esModule:!0}}),Math.floor),nn=function(e){return!g(e)&&isFinite(e)&&tn(e)===e};C(C.S,"Number",{isInteger:nn});var rn=v.Number.isInteger,on=(n(function(e){e.exports={default:rn,__esModule:!0}}),"\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"),an="["+on+"]",sn="​",un=RegExp("^"+an+an+"*"),cn=RegExp(an+an+"*$"),fn=function(e,t,n){var r={},i=_(function(){return!!on[e]()||sn[e]()!=sn}),o=r[e]=i?t(ln):on[e];n&&(r[n]=o),C(C.P+C.F*i,"String",r)},ln=fn.trim=function(e,t){return e=String(h(e)),1&t&&(e=e.replace(un,"")),2&t&&(e=e.replace(cn,"")),e},dn=fn,hn=p.parseFloat,pn=dn.trim,vn=1/hn(on+"-0")!=-1/0?function(e){var t=pn(String(e),3),n=hn(t);return 0===n&&"-"==t.charAt(0)?-0:n}:hn;C(C.S+C.F*(Number.parseFloat!=vn),"Number",{parseFloat:vn});var yn=parseFloat,mn=(n(function(e){e.exports={default:yn,__esModule:!0}}),Zt(null));mn.count=0;var gn=function(){function e(t,n){var r=this;if(Ut(this,e),Object.defineProperty(this,"__target",{writable:!0,enumerable:!1,configurable:!0}),this.__target=this,t){if("object"!==(void 0===t?"undefined":It(t)))throw new Error("CusEvent target are not object");this.__target=t,n&&["on","once","off","emit"].forEach(function(e){t[e]=r[e]})}}return qt(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(this.__target,e,t,n),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(this.__target,e,t,n),this}},{key:"emit",value:function(e,t){return s(this.__target,e,{data:t}),this}}]),e}();e.emitEventCache=s,e.addEventCache=u,e.removeEventCache=c,e.CustEvent=gn,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return e&&e.__esModule?e.default:e}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return"string"==typeof e||e instanceof String}function r(e,t){if(!n(e))throw new TypeError("Log's method only acccept string as argument, but not "+e+" in "+(void 0===e?"undefined":zt(e)));return n(t)?"["+(e=on.FORCE_GLOBAL_TAG?on.GLOBAL_TAG:e||on.GLOBAL_TAG)+"] > "+t:"["+on.GLOBAL_TAG+"] > "+e}var i=t(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),o=e(i),a=t(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),s=t(function(e){var t=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=t)}),u=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},c=function(e,t,n){if(u(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},f=function(e){return"object"==typeof e?null!==e:"function"==typeof e},l=function(e){if(!f(e))throw TypeError(e+" is not an object!");return e},d=function(e){try{return!!e()}catch(e){return!0}},h=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),p=a.document,v=f(p)&&f(p.createElement),y=function(e){return v?p.createElement(e):{}},m=!h&&!d(function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a}),g=function(e,t){if(!f(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!f(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!f(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!f(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,_=h?Object.defineProperty:function(e,t,n){if(l(e),t=g(t,!0),l(n),m)try{return b(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},w={f:_},S=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},k=h?function(e,t,n){return w.f(e,t,S(1,n))}:function(e,t,n){return e[t]=n,e},O=function(e,t,n){var r,i,o,u=e&O.F,f=e&O.G,l=e&O.S,d=e&O.P,h=e&O.B,p=e&O.W,v=f?s:s[t]||(s[t]={}),y=v.prototype,m=f?a:l?a[t]:(a[t]||{}).prototype;f&&(n=t);for(r in n)(i=!u&&m&&void 0!==m[r])&&r in v||(o=i?m[r]:n[r],v[r]=f&&"function"!=typeof m[r]?n[r]:h&&i?c(o,a):p&&m[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):d&&"function"==typeof o?c(Function.call,o):o,d&&((v.virtual||(v.virtual={}))[r]=o,e&O.R&&y&&!y[r]&&k(y,r,o)))};O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;var E=O;E(E.S+E.F*!h,"Object",{defineProperty:w.f});var x=s.Object,A=function(e,t,n){return x.defineProperty(e,t,n)},M=t(function(e){e.exports={default:A,__esModule:!0}}),j=t(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(M);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}),T=e(j),L=Math.ceil,P=Math.floor,C=function(e){return isNaN(e=+e)?0:(e>0?P:L)(e)},B=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},R=k,D={}.hasOwnProperty,I=function(e,t){return D.call(e,t)},N={},U={}.toString,F=function(e){return U.call(e).slice(8,-1)},z=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==F(e)?e.split(""):Object(e)},V=function(e){return z(B(e))},G=Math.min,q=function(e){return e>0?G(C(e),9007199254740991):0},W=Math.max,H=Math.min,K=function(e,t){return e=C(e),e<0?W(e+t,0):H(e,t)},J=a["__core-js_shared__"]||(a["__core-js_shared__"]={}),X=function(e){return J[e]||(J[e]={})},Y=0,$=Math.random(),Q=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Y+$).toString(36))},Z=X("keys"),ee=function(e){return Z[e]||(Z[e]=Q(e))},te=function(e){return function(t,n,r){var i,o=V(t),a=q(o.length),s=K(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}}(!1),ne=ee("IE_PROTO"),re=function(e,t){var n,r=V(e),i=0,o=[];for(n in r)n!=ne&&I(r,n)&&o.push(n);for(;t.length>i;)I(r,n=t[i++])&&(~te(o,n)||o.push(n));return o},ie="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),oe=Object.keys||function(e){return re(e,ie)},ae=h?Object.defineProperties:function(e,t){l(e);for(var n,r=oe(t),i=r.length,o=0;i>o;)w.f(e,n=r[o++],t[n]);return e},se=a.document,ue=se&&se.documentElement,ce=ee("IE_PROTO"),fe=function(){},le=function(){var e,t=y("iframe"),n=ie.length;for(t.style.display="none",ue.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),le=e.F;n--;)delete le.prototype[ie[n]];return le()},de=Object.create||function(e,t){var n;return null!==e?(fe.prototype=l(e),n=new fe,fe.prototype=null,n[ce]=e):n=le(),void 0===t?n:ae(n,t)},he=t(function(e){var t=X("wks"),n=a.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:Q)("Symbol."+e))}).store=t}),pe=w.f,ve=he("toStringTag"),ye=function(e,t,n){e&&!I(e=n?e:e.prototype,ve)&&pe(e,ve,{configurable:!0,value:t})},me={};k(me,he("iterator"),function(){return this});var ge=function(e,t,n){e.prototype=de(me,{next:S(1,n)}),ye(e,t+" Iterator")},be=function(e){return Object(B(e))},_e=ee("IE_PROTO"),we=Object.prototype,Se=Object.getPrototypeOf||function(e){return e=be(e),I(e,_e)?e[_e]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?we:null},ke=he("iterator"),Oe=!([].keys&&"next"in[].keys()),Ee=function(){return this},xe=function(e,t,n,r,i,o,a){ge(n,t,r);var s,u,c,f=function(e){if(!Oe&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},l=t+" Iterator",d="values"==i,h=!1,p=e.prototype,v=p[ke]||p["@@iterator"]||i&&p[i],y=v||f(i),m=i?d?f("entries"):y:void 0,g="Array"==t?p.entries||v:v;if(g&&(c=Se(g.call(new e)))!==Object.prototype&&c.next&&ye(c,l,!0),d&&v&&"values"!==v.name&&(h=!0,y=function(){return v.call(this)}),a&&(Oe||h||!p[ke])&&k(p,ke,y),N[t]=y,N[l]=Ee,i)if(s={values:d?y:f("values"),keys:o?y:f("keys"),entries:m},a)for(u in s)u in p||R(p,u,s[u]);else E(E.P+E.F*(Oe||h),t,s);return s},Ae=function(e){return function(t,n){var r,i,o=String(B(t)),a=C(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536)}}(!0);xe(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Ae(t,n),this._i+=e.length,{value:e,done:!1})});var Me=function(e,t){return{value:t,done:!!e}};xe(Array,"Array",function(e,t){this._t=V(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Me(1)):"keys"==t?Me(0,n):"values"==t?Me(0,e[n]):Me(0,[n,e[n]])},"values");N.Arguments=N.Array;for(var je=he("toStringTag"),Te="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Le=0;Le<Te.length;Le++){var Pe=Te[Le],Ce=a[Pe],Be=Ce&&Ce.prototype;Be&&!Be[je]&&k(Be,je,Pe),N[Pe]=N.Array}var Re=he,De={f:Re},Ie=De.f("iterator"),Ne=t(function(e){e.exports={default:Ie,__esModule:!0}}),Ue=t(function(e){var t=Q("meta"),n=w.f,r=0,i=Object.isExtensible||function(){return!0},o=!d(function(){return i(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=function(e,n){if(!f(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!I(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},u=function(e,n){if(!I(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},c=function(e){return o&&l.NEED&&i(e)&&!I(e,t)&&a(e),e},l=e.exports={KEY:t,NEED:!1,fastKey:s,getWeak:u,onFreeze:c}}),Fe=w.f,ze=function(e){var t=s.Symbol||(s.Symbol={});"_"==e.charAt(0)||e in t||Fe(t,e,{value:De.f(e)})},Ve=function(e,t){for(var n,r=V(e),i=oe(r),o=i.length,a=0;o>a;)if(r[n=i[a++]]===t)return n},Ge=Object.getOwnPropertySymbols,qe={f:Ge},We={}.propertyIsEnumerable,He={f:We},Ke=function(e){var t=oe(e),n=qe.f;if(n)for(var r,i=n(e),o=He.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t},Je=Array.isArray||function(e){return"Array"==F(e)},Xe=ie.concat("length","prototype"),Ye=Object.getOwnPropertyNames||function(e){return re(e,Xe)},$e={f:Ye},Qe=$e.f,Ze={}.toString,et="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],tt=function(e){try{return Qe(e)}catch(e){return et.slice()}},nt=function(e){return et&&"[object Window]"==Ze.call(e)?tt(e):Qe(V(e))},rt={f:nt},it=Object.getOwnPropertyDescriptor,ot=h?it:function(e,t){if(e=V(e),t=g(t,!0),m)try{return it(e,t)}catch(e){}if(I(e,t))return S(!He.f.call(e,t),e[t])},at={f:ot},st=Ue.KEY,ut=at.f,ct=w.f,ft=rt.f,lt=a.Symbol,dt=a.JSON,ht=dt&&dt.stringify,pt=he("_hidden"),vt=he("toPrimitive"),yt={}.propertyIsEnumerable,mt=X("symbol-registry"),gt=X("symbols"),bt=X("op-symbols"),_t=Object.prototype,wt="function"==typeof lt,St=a.QObject,kt=!St||!St.prototype||!St.prototype.findChild,Ot=h&&d(function(){return 7!=de(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=ut(_t,t);r&&delete _t[t],ct(e,t,n),r&&e!==_t&&ct(_t,t,r)}:ct,Et=function(e){var t=gt[e]=de(lt.prototype);return t._k=e,t},xt=wt&&"symbol"==typeof lt.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof lt},At=function(e,t,n){return e===_t&&At(bt,t,n),l(e),t=g(t,!0),l(n),I(gt,t)?(n.enumerable?(I(e,pt)&&e[pt][t]&&(e[pt][t]=!1),n=de(n,{enumerable:S(0,!1)})):(I(e,pt)||ct(e,pt,S(1,{})),e[pt][t]=!0),Ot(e,t,n)):ct(e,t,n)},Mt=function(e,t){l(e);for(var n,r=Ke(t=V(t)),i=0,o=r.length;o>i;)At(e,n=r[i++],t[n]);return e},jt=function(e,t){return void 0===t?de(e):Mt(de(e),t)},Tt=function(e){var t=yt.call(this,e=g(e,!0));return!(this===_t&&I(gt,e)&&!I(bt,e))&&(!(t||!I(this,e)||!I(gt,e)||I(this,pt)&&this[pt][e])||t)},Lt=function(e,t){if(e=V(e),t=g(t,!0),e!==_t||!I(gt,t)||I(bt,t)){var n=ut(e,t);return!n||!I(gt,t)||I(e,pt)&&e[pt][t]||(n.enumerable=!0),n}},Pt=function(e){for(var t,n=ft(V(e)),r=[],i=0;n.length>i;)I(gt,t=n[i++])||t==pt||t==st||r.push(t);return r},Ct=function(e){for(var t,n=e===_t,r=ft(n?bt:V(e)),i=[],o=0;r.length>o;)!I(gt,t=r[o++])||n&&!I(_t,t)||i.push(gt[t]);return i};wt||(lt=function(){if(this instanceof lt)throw TypeError("Symbol is not a constructor!");var e=Q(arguments.length>0?arguments[0]:void 0),t=function(n){this===_t&&t.call(bt,n),I(this,pt)&&I(this[pt],e)&&(this[pt][e]=!1),Ot(this,e,S(1,n))};return h&&kt&&Ot(_t,e,{configurable:!0,set:t}),Et(e)},R(lt.prototype,"toString",function(){return this._k}),at.f=Lt,w.f=At,$e.f=rt.f=Pt,He.f=Tt,qe.f=Ct,De.f=function(e){return Et(he(e))}),E(E.G+E.W+E.F*!wt,{Symbol:lt});for(var Bt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Rt=0;Bt.length>Rt;)he(Bt[Rt++]);for(var Dt=oe(he.store),It=0;Dt.length>It;)ze(Dt[It++]);E(E.S+E.F*!wt,"Symbol",{for:function(e){return I(mt,e+="")?mt[e]:mt[e]=lt(e)},keyFor:function(e){if(xt(e))return Ve(mt,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){kt=!0},useSimple:function(){kt=!1}}),E(E.S+E.F*!wt,"Object",{create:jt,defineProperty:At,defineProperties:Mt,getOwnPropertyDescriptor:Lt,getOwnPropertyNames:Pt,getOwnPropertySymbols:Ct}),dt&&E(E.S+E.F*(!wt||d(function(){var e=lt();return"[null]"!=ht([e])||"{}"!=ht({a:e})||"{}"!=ht(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!xt(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&Je(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!xt(t))return t}),r[1]=t,ht.apply(dt,r)}}}),lt.prototype[vt]||k(lt.prototype,vt,lt.prototype.valueOf),ye(lt,"Symbol"),ye(Math,"Math",!0),ye(a.JSON,"JSON",!0),ze("asyncIterator"),ze("observable");var Nt=s.Symbol,Ut=t(function(e){e.exports={default:Nt,__esModule:!0}}),Ft=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(Ne),i=n(Ut),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}}),zt=e(Ft);!function(e,t){var n=(s.Object||{})[e]||Object[e],r={};r[e]=t(n),E(E.S+E.F*d(function(){n(1)}),"Object",r)}("keys",function(){return function(e){return oe(be(e))}});var Vt=s.Object.keys,Gt=(t(function(e){e.exports={default:Vt,__esModule:!0}}),Math.floor),qt=function(e){return!f(e)&&isFinite(e)&&Gt(e)===e};E(E.S,"Number",{isInteger:qt});var Wt=s.Number.isInteger,Ht=(t(function(e){e.exports={default:Wt,__esModule:!0}}),"\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"),Kt="["+Ht+"]",Jt="​",Xt=RegExp("^"+Kt+Kt+"*"),Yt=RegExp(Kt+Kt+"*$"),$t=function(e,t,n){var r={},i=d(function(){return!!Ht[e]()||Jt[e]()!=Jt}),o=r[e]=i?t(Qt):Ht[e];n&&(r[n]=o),E(E.P+E.F*i,"String",r)},Qt=$t.trim=function(e,t){return e=String(B(e)),1&t&&(e=e.replace(Xt,"")),2&t&&(e=e.replace(Yt,"")),e},Zt=$t,en=a.parseFloat,tn=Zt.trim,nn=1/en(Ht+"-0")!=-1/0?function(e){var t=tn(String(e),3),n=en(t);return 0===n&&"-"==t.charAt(0)?-0:n}:en;E(E.S+E.F*(Number.parseFloat!=nn),"Number",{parseFloat:nn});var rn=parseFloat,on=(t(function(e){e.exports={default:rn,__esModule:!0}}),function(){function e(){o(this,e)}return T(e,null,[{key:"error",value:function(t,n){e.ENABLE_ERROR&&(console.error||console.warn||console.log)(r(t,n))}},{key:"info",value:function(t,n){e.ENABLE_INFO&&(console.info||console.log)(r(t,n))}},{key:"warn",value:function(t,n){e.ENABLE_WARN&&(console.warn||console.log)(r(t,n))}},{key:"debug",value:function(t,n){e.ENABLE_DEBUG&&(console.debug||console.log)(r(t,n))}},{key:"verbose",value:function(t,n){e.ENABLE_VERBOSE&&console.log(r(t,n))}}]),e}());return on.GLOBAL_TAG="chimee",on.FORCE_GLOBAL_TAG=!1,on.ENABLE_ERROR=!0,on.ENABLE_INFO=!0,on.ENABLE_WARN=!0,on.ENABLE_DEBUG=!0,on.ENABLE_VERBOSE=!0,on})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),c=r(u),f=n(11),l=r(f),d=n(12),h=r(d),p=n(13),v=r(p),y=n(0),m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.loader=null,n.config={},Object.assign(n.config,e),n.bufferSize=3145728,n.cacheBuffer=new ArrayBuffer(n.bufferSize),n.cacheRemain=0,n.stashByteStart=0,n.enableStash=!0,n.stashSize=n.config.stashSize||393216,n.resumeFrom=0,n.currentRange={},n.totalReceive=0,n.seekPonit=0,n.timer=null,n.webSocketURLReg=/wss?:\/\/(.+?)\//,n.selectLoader(),n.loader.on("end",function(){var e=n.cacheBuffer.slice(0,n.cacheRemain);n.arrivalDataCallback(e,n.stashByteStart),n.emit("end")}),n}return a(t,e),s(t,[{key:"selectLoader",value:function(){var e=this.config,t=this.config.src;this.webSocketURLReg.test(t)?this.loader=new h.default(t,e,this.queryHandle):c.default.isSupport()?this.loader=new c.default(t,e,this.queryHandle):v.default.isSupport()?this.loader=new v.default(t,e,this.queryHandle):l.default.isSupport()&&(this.loader=new l.default(t,e,this.queryHandle)),this.loader.arrivalDataCallback=this.onLoaderChunkArrival.bind(this)}},{key:"onLoaderChunkArrival",value:function(e,t,n){if(n&&(this.seekPonit=n),this.arrivalDataCallback)if(this.totalReceive+=e.byteLength,0===this.cacheRemain&&0===this.stashByteStart&&(this.stashByteStart=t),this.cacheRemain+e.byteLength<=this.stashSize){var r=new Uint8Array(this.cacheBuffer,0,this.stashSize);r.set(new Uint8Array(e),this.cacheRemain),this.cacheRemain+=e.byteLength}else{var i=new Uint8Array(this.cacheBuffer,0,this.bufferSize);if(this.cacheRemain>0){var o=this.cacheBuffer.slice(0,this.cacheRemain),a=0;if(this.seekPonit?(a=this.arrivalDataCallback(o,this.stashByteStart,this.seekPonit),this.seekPonit=0):a=this.arrivalDataCallback(o,this.stashByteStart),a<o.byteLength){if(a>0){var s=new Uint8Array(o,a);i.set(s,0),this.cacheRemain=s.byteLength,this.stashByteStart+=a}}else this.cacheRemain=0,this.stashByteStart+=a;this.cacheRemain+e.byteLength>this.bufferSize&&(this.expandBuffer(this.cacheRemain+e.byteLength),i=new Uint8Array(this.cacheBuffer,0,this.bufferSize)),i.set(new Uint8Array(e),this.cacheRemain),this.cacheRemain+=e.byteLength}else{var u=0;if(this.seekPonit?(u=this.arrivalDataCallback(e,t,this.seekPonit),this.seekPonit=0):u=this.arrivalDataCallback(e,t),u<e.byteLength){var c=e.byteLength-u;c>this.bufferSize&&(this.expandBuffer(c),i=new Uint8Array(this.cacheBuffer,0,this.bufferSize)),i.set(new Uint8Array(e,u),0),this.cacheRemain+=c,this.stashByteStart=t+u}}}}},{key:"initCacheBuffer",value:function(){this.cacheBuffer=new ArrayBuffer(this.bufferSize)}},{key:"expandBuffer",value:function(e){var t=this.bufferSize;t<e&&(t=e),this.cacheBuffer=new ArrayBuffer(t),this.bufferSize=t}},{key:"pause",value:function(){this.loader.pause()}},{key:"open",value:function(e){void 0===e&&(e=0),this.loader.open({from:e,to:-1})}},{key:"resume",value:function(){this.paused=!1;var e=this.totalReceive;this.open(e)}},{key:"seek",value:function(e,t,n){this.totalReceive=e,this.initCacheBuffer(),this.totalReceive=e,this.cacheRemain=0,this.stashByteStart=0,this.loader.open({from:e,to:-1},n)}},{key:"destroy",value:function(){this.pause()}}]),t}(y.CustEvent);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={},n=void 0;return n=-1!==e.to?"bytes="+e.from.toString()+"-"+e.to.toString():"bytes="+e.from.toString()+"-",t.Range=n,{headers:t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e){for(var t=[],n=e,r=0,i=e.length;r<i;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(a(n,r,1)){var o=(31&n[r])<<6|63&n[r+1];if(o>=128){t.push(String.fromCharCode(65535&o)),r+=2;continue}}}else if(n[r]<240){if(a(n,r,2)){var s=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2];if(s>=2048&&55296!=(63488&s)){t.push(String.fromCharCode(65535&s)),r+=3;continue}}}else if(n[r]<248&&a(n,r,3)){var u=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3];if(u>65536&&u<1114112){u-=65536,t.push(String.fromCharCode(u>>>10|55296)),t.push(String.fromCharCode(1023&u|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")}function a(e,t,n){var r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=(n.n(s),function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}),c=function(e){return Object(u(e))},f={}.hasOwnProperty,l=function(e,t){return f.call(e,t)},d=i(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),h=d["__core-js_shared__"]||(d["__core-js_shared__"]={}),p=function(e){return h[e]||(h[e]={})},y=0,m=Math.random(),g=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++y+m).toString(36))},b=p("keys"),_=function(e){return b[e]||(b[e]=g(e))},w=_("IE_PROTO"),S=Object.prototype,k=Object.getPrototypeOf||function(e){return e=c(e),l(e,w)?e[w]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?S:null},O=i(function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)}),E=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},x=function(e,t,n){if(E(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},A=function(e){return"object"==typeof e?null!==e:"function"==typeof e},M=function(e){if(!A(e))throw TypeError(e+" is not an object!");return e},j=function(e){try{return!!e()}catch(e){return!0}},T=!j(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),L=d.document,P=A(L)&&A(L.createElement),C=function(e){return P?L.createElement(e):{}},B=!T&&!j(function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a}),R=function(e,t){if(!A(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!A(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!A(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!A(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},D=Object.defineProperty,I=T?Object.defineProperty:function(e,t,n){if(M(e),t=R(t,!0),M(n),B)try{return D(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},N={f:I},U=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},F=T?function(e,t,n){return N.f(e,t,U(1,n))}:function(e,t,n){return e[t]=n,e},z=function(e,t,n){var r,i,o,a=e&z.F,s=e&z.G,u=e&z.S,c=e&z.P,f=e&z.B,l=e&z.W,h=s?O:O[t]||(O[t]={}),p=h.prototype,v=s?d:u?d[t]:(d[t]||{}).prototype;s&&(n=t);for(r in n)(i=!a&&v&&void 0!==v[r])&&r in h||(o=i?v[r]:n[r],h[r]=s&&"function"!=typeof v[r]?n[r]:f&&i?x(o,d):l&&v[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):c&&"function"==typeof o?x(Function.call,o):o,c&&((h.virtual||(h.virtual={}))[r]=o,e&z.R&&p&&!p[r]&&F(p,r,o)))};z.F=1,z.G=2,z.S=4,z.P=8,z.B=16,z.W=32,z.U=64,z.R=128;var V=z;!function(e,t){var n=(O.Object||{})[e]||Object[e],r={};r[e]=t(n),V(V.S+V.F*j(function(){n(1)}),"Object",r)}("getPrototypeOf",function(){return function(e){return k(c(e))}});var G=O.Object.getPrototypeOf,q=i(function(e){e.exports={default:G,__esModule:!0}}),W=r(q),H=Math.ceil,K=Math.floor,J=function(e){return isNaN(e=+e)?0:(e>0?K:H)(e)},X=F,Y={},$={}.toString,Q=function(e){return $.call(e).slice(8,-1)},Z=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Q(e)?e.split(""):Object(e)},ee=function(e){return Z(u(e))},te=Math.min,ne=function(e){return e>0?te(J(e),9007199254740991):0},re=Math.max,ie=Math.min,oe=function(e,t){return e=J(e),e<0?re(e+t,0):ie(e,t)},ae=function(e){return function(t,n,r){var i,o=ee(t),a=ne(o.length),s=oe(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}}(!1),se=_("IE_PROTO"),ue=function(e,t){var n,r=ee(e),i=0,o=[];for(n in r)n!=se&&l(r,n)&&o.push(n);for(;t.length>i;)l(r,n=t[i++])&&(~ae(o,n)||o.push(n));return o},ce="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),fe=Object.keys||function(e){return ue(e,ce)},le=T?Object.defineProperties:function(e,t){M(e);for(var n,r=fe(t),i=r.length,o=0;i>o;)N.f(e,n=r[o++],t[n]);return e},de=d.document&&document.documentElement,he=_("IE_PROTO"),pe=function(){},ve=function(){var e,t=C("iframe"),n=ce.length;for(t.style.display="none",de.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),ve=e.F;n--;)delete ve.prototype[ce[n]];return ve()},ye=Object.create||function(e,t){var n;return null!==e?(pe.prototype=M(e),n=new pe,pe.prototype=null,n[he]=e):n=ve(),void 0===t?n:le(n,t)},me=i(function(e){var t=p("wks"),n=d.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:g)("Symbol."+e))}).store=t}),ge=N.f,be=me("toStringTag"),_e=function(e,t,n){e&&!l(e=n?e:e.prototype,be)&&ge(e,be,{configurable:!0,value:t})},we={};F(we,me("iterator"),function(){return this});var Se=function(e,t,n){e.prototype=ye(we,{next:U(1,n)}),_e(e,t+" Iterator")},ke=me("iterator"),Oe=!([].keys&&"next"in[].keys()),Ee=function(){return this},xe=function(e,t,n,r,i,o,a){Se(n,t,r);var s,u,c,f=function(e){if(!Oe&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},l=t+" Iterator",d="values"==i,h=!1,p=e.prototype,v=p[ke]||p["@@iterator"]||i&&p[i],y=v||f(i),m=i?d?f("entries"):y:void 0,g="Array"==t?p.entries||v:v;if(g&&(c=k(g.call(new e)))!==Object.prototype&&_e(c,l,!0),d&&v&&"values"!==v.name&&(h=!0,y=function(){return v.call(this)}),a&&(Oe||h||!p[ke])&&F(p,ke,y),Y[t]=y,Y[l]=Ee,i)if(s={values:d?y:f("values"),keys:o?y:f("keys"),entries:m},a)for(u in s)u in p||X(p,u,s[u]);else V(V.P+V.F*(Oe||h),t,s);return s},Ae=function(e){return function(t,n){var r,i,o=String(u(t)),a=J(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536)}}(!0);xe(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Ae(t,n),this._i+=e.length,{value:e,done:!1})});var Me=function(e,t){return{value:t,done:!!e}};xe(Array,"Array",function(e,t){this._t=ee(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Me(1)):"keys"==t?Me(0,n):"values"==t?Me(0,e[n]):Me(0,[n,e[n]])},"values");Y.Arguments=Y.Array;for(var je=me("toStringTag"),Te=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],Le=0;Le<5;Le++){var Pe=Te[Le],Ce=d[Pe],Be=Ce&&Ce.prototype;Be&&!Be[je]&&F(Be,je,Pe),Y[Pe]=Y.Array}var Re=me,De={f:Re},Ie=De.f("iterator"),Ne=i(function(e){e.exports={default:Ie,__esModule:!0}});r(Ne);var Ue=i(function(e){var t=g("meta"),n=N.f,r=0,i=Object.isExtensible||function(){return!0},o=!j(function(){return i(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=function(e,n){if(!A(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},u=function(e,n){if(!l(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},c=function(e){return o&&f.NEED&&i(e)&&!l(e,t)&&a(e),e},f=e.exports={KEY:t,NEED:!1,fastKey:s,getWeak:u,onFreeze:c}}),Fe=N.f,ze=function(e){var t=O.Symbol||(O.Symbol={});"_"==e.charAt(0)||e in t||Fe(t,e,{value:De.f(e)})},Ve=function(e,t){for(var n,r=ee(e),i=fe(r),o=i.length,a=0;o>a;)if(r[n=i[a++]]===t)return n},Ge=Object.getOwnPropertySymbols,qe={f:Ge},We={}.propertyIsEnumerable,He={f:We},Ke=function(e){var t=fe(e),n=qe.f;if(n)for(var r,i=n(e),o=He.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t},Je=Array.isArray||function(e){return"Array"==Q(e)},Xe=ce.concat("length","prototype"),Ye=Object.getOwnPropertyNames||function(e){return ue(e,Xe)},$e={f:Ye},Qe=$e.f,Ze={}.toString,et="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],tt=function(e){try{return Qe(e)}catch(e){return et.slice()}},nt=function(e){return et&&"[object Window]"==Ze.call(e)?tt(e):Qe(ee(e))},rt={f:nt},it=Object.getOwnPropertyDescriptor,ot=T?it:function(e,t){if(e=ee(e),t=R(t,!0),B)try{return it(e,t)}catch(e){}if(l(e,t))return U(!He.f.call(e,t),e[t])},at={f:ot},st=Ue.KEY,ut=at.f,ct=N.f,ft=rt.f,lt=d.Symbol,dt=d.JSON,ht=dt&&dt.stringify,pt=me("_hidden"),vt=me("toPrimitive"),yt={}.propertyIsEnumerable,mt=p("symbol-registry"),gt=p("symbols"),bt=p("op-symbols"),_t=Object.prototype,wt="function"==typeof lt,St=d.QObject,kt=!St||!St.prototype||!St.prototype.findChild,Ot=T&&j(function(){return 7!=ye(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=ut(_t,t);r&&delete _t[t],ct(e,t,n),r&&e!==_t&&ct(_t,t,r)}:ct,Et=function(e){var t=gt[e]=ye(lt.prototype);return t._k=e,t},xt=wt&&"symbol"==typeof lt.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof lt},At=function(e,t,n){return e===_t&&At(bt,t,n),M(e),t=R(t,!0),M(n),l(gt,t)?(n.enumerable?(l(e,pt)&&e[pt][t]&&(e[pt][t]=!1),n=ye(n,{enumerable:U(0,!1)})):(l(e,pt)||ct(e,pt,U(1,{})),e[pt][t]=!0),Ot(e,t,n)):ct(e,t,n)},Mt=function(e,t){M(e);for(var n,r=Ke(t=ee(t)),i=0,o=r.length;o>i;)At(e,n=r[i++],t[n]);return e},jt=function(e,t){return void 0===t?ye(e):Mt(ye(e),t)},Tt=function(e){var t=yt.call(this,e=R(e,!0));return!(this===_t&&l(gt,e)&&!l(bt,e))&&(!(t||!l(this,e)||!l(gt,e)||l(this,pt)&&this[pt][e])||t)},Lt=function(e,t){if(e=ee(e),t=R(t,!0),e!==_t||!l(gt,t)||l(bt,t)){var n=ut(e,t);return!n||!l(gt,t)||l(e,pt)&&e[pt][t]||(n.enumerable=!0),n}},Pt=function(e){for(var t,n=ft(ee(e)),r=[],i=0;n.length>i;)l(gt,t=n[i++])||t==pt||t==st||r.push(t);return r},Ct=function(e){for(var t,n=e===_t,r=ft(n?bt:ee(e)),i=[],o=0;r.length>o;)!l(gt,t=r[o++])||n&&!l(_t,t)||i.push(gt[t]);return i};wt||(lt=function(){if(this instanceof lt)throw TypeError("Symbol is not a constructor!");var e=g(arguments.length>0?arguments[0]:void 0),t=function(n){this===_t&&t.call(bt,n),l(this,pt)&&l(this[pt],e)&&(this[pt][e]=!1),Ot(this,e,U(1,n))};return T&&kt&&Ot(_t,e,{configurable:!0,set:t}),Et(e)},X(lt.prototype,"toString",function(){return this._k}),at.f=Lt,N.f=At,$e.f=rt.f=Pt,He.f=Tt,qe.f=Ct,De.f=function(e){return Et(me(e))}),V(V.G+V.W+V.F*!wt,{Symbol:lt});for(var Bt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Rt=0;Bt.length>Rt;)me(Bt[Rt++]);for(var Bt=fe(me.store),Rt=0;Bt.length>Rt;)ze(Bt[Rt++]);V(V.S+V.F*!wt,"Symbol",{for:function(e){return l(mt,e+="")?mt[e]:mt[e]=lt(e)},keyFor:function(e){if(xt(e))return Ve(mt,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){kt=!0},useSimple:function(){kt=!1}}),V(V.S+V.F*!wt,"Object",{create:jt,defineProperty:At,defineProperties:Mt,getOwnPropertyDescriptor:Lt,getOwnPropertyNames:Pt,getOwnPropertySymbols:Ct}),dt&&V(V.S+V.F*(!wt||j(function(){var e=lt();return"[null]"!=ht([e])||"{}"!=ht({a:e})||"{}"!=ht(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!xt(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&Je(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!xt(t))return t}),r[1]=t,ht.apply(dt,r)}}}),lt.prototype[vt]||F(lt.prototype,vt,lt.prototype.valueOf),_e(lt,"Symbol"),_e(Math,"Math",!0),_e(d.JSON,"JSON",!0),ze("asyncIterator"),ze("observable");var Dt=O.Symbol,It=i(function(e){e.exports={default:Dt,__esModule:!0}});r(It);var Nt=i(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(Ne),i=n(It),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}}),Ut=r(Nt),Ft=i(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(Nt);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}}),zt=r(Ft),Vt=function(e,t){if(M(e),!A(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},Gt={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=x(Function.call,at.f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return Vt(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:Vt};V(V.S,"Object",{setPrototypeOf:Gt.set});var qt=O.Object.setPrototypeOf,Wt=i(function(e){e.exports={default:qt,__esModule:!0}});r(Wt),V(V.S,"Object",{create:ye});var Ht=O.Object,Kt=function(e,t){return Ht.create(e,t)},Jt=i(function(e){e.exports={default:Kt,__esModule:!0}});r(Jt);var Xt=i(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(Wt),i=n(Jt),o=n(Nt);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}}),Yt=r(Xt),$t=Object.assign,Qt=!$t||j(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=$t({},e)[n]||Object.keys($t({},t)).join("")!=r})?function(e,t){for(var n=c(e),r=arguments.length,i=1,o=qe.f,a=He.f;r>i;)for(var s,u=Z(arguments[i++]),f=o?fe(u).concat(o(u)):fe(u),l=f.length,d=0;l>d;)a.call(u,s=f[d++])&&(n[s]=u[s]);return n}:$t;V(V.S+V.F,"Object",{assign:Qt});var Zt=O.Object.assign,en=i(function(e){e.exports={default:Zt,__esModule:!0}}),tn=r(en),nn=i(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),rn=r(nn);V(V.S+V.F*!T,"Object",{defineProperty:N.f});var on=O.Object,an=function(e,t,n){return on.defineProperty(e,t,n)},sn=i(function(e){e.exports={default:an,__esModule:!0}});r(sn);var un=i(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(sn);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}),cn=r(un),fn=function(){function e(){rn(this,e),this.tagType=-1,this.dataSize=-1,this.Timestamp=-1,this.StreamID=-1,this.body=-1,this.time=-1,this.arr=[],this.size=-1}return cn(e,[{key:"getTime",value:function(){this.arr=[];for(var e=0;e<this.Timestamp.length;e++)this.arr.push(1==this.Timestamp[e].toString(16).length?"0"+this.Timestamp[e].toString(16):this.Timestamp[e].toString(16));this.arr.pop();var t=this.arr.join("");return this.time=parseInt(t,16),parseInt(t,16)}}]),e}(),ln=function(){function e(t){rn(this,e),this.TAG=this.constructor.name,this._buffer=t,this._buffer_index=0,this._total_bytes=t.byteLength,this._total_bits=8*t.byteLength,this._current_word=0,this._current_word_bits_left=0}return cn(e,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(e>32)throw new InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var n=this._current_word_bits_left?this._current_word:0;n>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var i=Math.min(r,this._current_word_bits_left),o=this._current_word>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,n=n<<i|o}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var e=void 0;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}]),e}(),dn=function(){function e(){rn(this,e)}return cn(e,null,[{key:"_ebsp2rbsp",value:function(e){for(var t=e,n=t.byteLength,r=new Uint8Array(n),i=0,o=0;o<n;o++)o>=2&&3===t[o]&&0===t[o-1]&&0===t[o-2]||(r[i]=t[o],i++);return new Uint8Array(r.buffer,0,i)}},{key:"parseSPS",value:function(t){var n=e._ebsp2rbsp(t),r=new ln(n);r.readByte();var i=r.readByte();r.readByte();var o=r.readByte();r.readUEG();var a=e.getProfileString(i),s=e.getLevelString(o),u=1,c=420,f=[0,420,422,444],l=8;if((100===i||110===i||122===i||244===i||44===i||83===i||86===i||118===i||128===i||138===i||144===i)&&(u=r.readUEG(),3===u&&r.readBits(1),u<=3&&(c=f[u]),l=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var d=3!==u?8:12,h=0;h<d;h++)r.readBool()&&(h<6?e._skipScalingList(r,16):e._skipScalingList(r,64));r.readUEG();var p=r.readUEG();if(0===p)r.readUEG();else if(1===p){r.readBits(1),r.readSEG(),r.readSEG();for(var v=r.readUEG(),y=0;y<v;y++)r.readSEG()}r.readUEG(),r.readBits(1);var m=r.readUEG(),g=r.readUEG(),b=r.readBits(1);0===b&&r.readBits(1),r.readBits(1);var _=0,w=0,S=0,k=0;r.readBool()&&(_=r.readUEG(),w=r.readUEG(),S=r.readUEG(),k=r.readUEG());var O=1,E=1,x=0,A=!0,M=0,j=0;if(r.readBool()){if(r.readBool()){var T=r.readByte(),L=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],P=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];T>0&&T<16?(O=L[T-1],E=P[T-1]):255===T&&(O=r.readByte()<<8|r.readByte(),E=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var C=r.readBits(32),B=r.readBits(32);A=r.readBool(),M=B,j=2*C,x=M/j}}var R=1;1===O&&1===E||(R=O/E);var D=0,I=0;if(0===u)D=1,I=2-b;else{var N=3===u?1:2,U=1===u?2:1;D=N,I=U*(2-b)}var F=16*(m+1),z=16*(g+1)*(2-b);F-=(_+w)*D,z-=(S+k)*I;var V=Math.ceil(F*R);return r.destroy(),r=null,{profile_string:a,level_string:s,bit_depth:l,chroma_format:c,chroma_format_string:e.getChromaFormatString(c),frame_rate:{fixed:A,fps:x,fps_den:j,fps_num:M},sar_ratio:{width:O,height:E},codec_size:{width:F,height:z},present_size:{width:V,height:z}}}},{key:"_skipScalingList",value:function(e,t){for(var n=8,r=8,i=0,o=0;o<t;o++)0!==r&&(i=e.readSEG(),r=(n+i+256)%256),n=0===r?n:r}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),e}(),hn=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),pn=function(){function e(){rn(this,e)}return cn(e,null,[{key:"parseObject",value:function(t,n,r){var i=e.parseString(t,n,r),o=e.parseScript(t,n+i.size),a=o.objectEnd;return{data:{name:i.data,value:o.data},size:o.size,objectEnd:a}}},{key:"parseVariable",value:function(t,n,r){return e.parseObject(t,n,r)}},{key:"parseLongString",value:function(e,t,n){var r=new DataView(e,t),i=r.getUint32(0,!hn),a=void 0;return a=i>0?o(new Uint8Array(e,t+4,i)):"",{data:a,size:4+i}}},{key:"parseDate",value:function(e,t,n){var r=new DataView(e,t),i=r.getFloat64(0,!hn);return i+=60*r.getInt16(8,!hn)*1e3,{data:new Date(i),size:10}}},{key:"parseString",value:function(e,t,n){var r=new DataView(e,t),i=r.getUint16(0,!hn),a=void 0;return a=i>0?o(new Uint8Array(e,t+2,i)):"",{data:a,size:2+i}}},{key:"parseMetadata",value:function(t){var n=e.parseScript(t,0),r=e.parseScript(t,n.size,t.length-n.size),i={};return i[n.data]=r.data,i}},{key:"parseScript",value:function(t,n,r){var i=n,o=new Uint8Array(t),a=o.buffer,s=new DataView(a,0,r),u=null,c=s.getUint8(i);switch(i+=1,c){case 0:u=s.getFloat64(i,!hn),i+=8;break;case 1:u=!!s.getUint8(i),i+=1;break;case 2:var f=e.parseString(a,i);u=f.data,i+=f.size;break;case 3:u={};var l=0;for(9==(16777215&s.getUint32(r-4,!hn))&&(l=3);i<r-4;){var d=e.parseObject(a,i,r-n-l);if(d.objectEnd)break;u[d.data.name]=d.data.value,i=d.size}if(i<=r-3){9===(16777215&v.getUint32(i-1,!hn))&&(i+=3)}break;case 8:for(u={},i+=4,s.getUint32(r-4,!hn);i<r-8;){var h=e.parseVariable(a,i);if(h.objectEnd)break;u[h.data.name]=h.data.value,i=h.size}if(i<=r-3){9===(16777215&s.getUint32(i-1,!hn))&&(i+=3)}break;case 9:u=void 0,i=1;break;case 10:u=[];var p=s.getUint32(i,!hn);i+=4;for(var y=0;y<p;y++){var m=e.parseScript(a,i);u.push(m.data),i=m.size}break;case 11:var g=e.parseDate(a,i+1,r-1);u=g.data,i+=g.size;break;case 12:var b=e.parseString(a,i+1,r-1);u=b.data,i+=b.size;break;default:i=r,console.log("AMF","Unsupported AMF value type "+c)}return{data:u,size:i}}}]),e}(),vn=function(){function e(){rn(this,e),this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return cn(e,[{key:"isComplete",value:function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}},{key:"isSeekable",value:function(){return!0===this.hasKeyframesIndex}}]),e}(),yn=function e(t){rn(this,e),this.type=t},mn=function(){function e(){rn(this,e),this.TAG=this.constructor.name,this._config={},this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=0,this._firstParse=!0,this._dispatch=!1,this._hasAudio=!1,this._hasVideo=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new vn,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._videoTrack={type:"video",id:1,sequenceNumber:0,addcoefficient:2,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,addcoefficient:2,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return cn(e,[{key:"onMediaInfo",value:function(e){this._onMediaInfo=e}},{key:"parseMetadata",value:function(e){var t=pn.parseMetadata(e);this._parseScriptData(t)}},{key:"_parseScriptData",value:function(e){var t=e;if(t.hasOwnProperty("onMetaData")){this._metadata=t;var n=this._metadata.onMetaData;if("boolean"==typeof n.hasAudio&&(this._hasAudio=n.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof n.hasVideo&&(this._hasVideo=n.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof n.audiodatarate&&(this._mediaInfo.audioDataRate=n.audiodatarate),"number"==typeof n.videodatarate&&(this._mediaInfo.videoDataRate=n.videodatarate),"number"==typeof n.width&&(this._mediaInfo.width=n.width),"number"==typeof n.height&&(this._mediaInfo.height=n.height),"number"==typeof n.duration){if(!this._durationOverrided){var r=Math.floor(n.duration*this._timescale);this._duration=r,this._mediaInfo.duration=r}}else this._mediaInfo.duration=0;if("number"==typeof n.framerate){var i=Math.floor(1e3*n.framerate);if(i>0){var o=i/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=o,this._referenceFrameRate.fps_num=i,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=o}}if("object"===Ut(n.keyframes)){this._mediaInfo.hasKeyframesIndex=!0;var a=n.keyframes;a.times=n.times,a.filepositions=n.filepositions,this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(a),n.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;return this._dispatch=!1,this._mediaInfo.metadata=n,console.log(this.TAG,"Parsed onMetaData"),this._mediaInfo}}},{key:"_parseKeyframesIndex",value:function(e){for(var t=[],n=[],r=1;r<e.times.length;r++){var i=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(i),n.push(e.filepositions[r])}return{times:t,filepositions:n}}},{key:"moofTag",value:function(e){for(var t=0;t<e.length;t++)this._dispatch=!0,this.parseChunks(e[t]);this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack)}},{key:"parseChunks",value:function(e){switch(e.tagType){case 8:this._parseAudioData(e.body.buffer,0,e.body.length,e.getTime());break;case 9:this._parseVideoData(e.body.buffer,0,e.body.length,e.getTime(),0);break;case 18:this.parseMetadata(e.body)}}},{key:"_parseVideoData",value:function(e,t,n,r,i){if(r==this._timestampBase&&0!=this._timestampBase)throw new yn(r,this._timestampBase,"夭寿啦这个视频不是从0开始");if(n<=1)return void console.log(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");var o=new Uint8Array(e,t,n)[0],a=(240&o)>>>4,s=15&o;if(7!==s)return void(this._onError&&this._onError("Flv: Unsupported codec in video frame: "+s));this._parseAVCVideoPacket(e,t+1,n-1,r,i,a)}},{key:"_parseAVCVideoPacket",value:function(e,t,n,r,i,o){if(n<4)return void console.log(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");var a=this._littleEndian,s=new DataView(e,t,n),u=s.getUint8(0),c=16777215&s.getUint32(0,!a);if(0===u)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===u)this._parseAVCVideoData(e,t+4,n-4,r,i,o,c);else if(2!==u)return void this._onError("Flv: Invalid video packet type "+u)}},{key:"_parseAVCDecoderConfigurationRecord",value:function(e,t,n){if(n<7)return void console.log(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");var r=this._videoMetadata,i=this._videoTrack,o=this._littleEndian,a=new DataView(e,t,n);r?void 0!==r.avcc&&console.log(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(r=this._videoMetadata={},r.type="video",r.id=i.id,r.timescale=this._timescale,r.duration=this._duration);var s=a.getUint8(0),u=a.getUint8(1);a.getUint8(2),a.getUint8(3);if(1!==s||0===u)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&a.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));var c=31&a.getUint8(5);if(0===c||c>1)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid H264 SPS count: "+c);for(var f=6,l=0;l<c;l++){var d=a.getUint16(f,!o);if(f+=2,0!==d){var h=new Uint8Array(e,t+f,d);f+=d;var p=dn.parseSPS(h);r.codecWidth=p.codec_size.width,r.codecHeight=p.codec_size.height,r.presentWidth=p.present_size.width,r.presentHeight=p.present_size.height,r.config=p,r.profile=p.profile_string,r.level=p.level_string,r.bitDepth=p.bit_depth,r.chromaFormat=p.chroma_format,r.sarRatio=p.sar_ratio,r.frameRate=p.frame_rate,!1!==p.frame_rate.fixed&&0!==p.frame_rate.fps_num&&0!==p.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var v=r.frameRate.fps_den,y=r.frameRate.fps_num;r.refSampleDuration=Math.floor(r.timescale*(v/y));for(var m=h.subarray(1,4),g="avc1.",b=0;b<3;b++){var _=m[b].toString(16);_.length<2&&(_="0"+_),g+=_}r.codec=g;var w=this._mediaInfo;w.width=r.codecWidth,w.height=r.codecHeight,w.fps=r.frameRate.fps,w.profile=r.profile,w.level=r.level,w.chromaFormat=p.chroma_format_string,w.sarNum=r.sarRatio.width,w.sarDen=r.sarRatio.height,w.videoCodec=g,w.meta=r,w.hasAudio?null!=w.audioCodec&&(w.mimeType='video/x-flv; codecs="'+w.videoCodec+","+w.audioCodec+'"'):w.mimeType='video/x-flv; codecs="'+w.videoCodec+'"',w.isComplete()&&this._onMediaInfo(w)}}var S=a.getUint8(f);if(0===S||S>1)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid H264 PPS count: "+S);f++;for(var k=0;k<S;k++){var O=a.getUint16(f,!o);f+=2,0!==O&&(f+=O)}r.avcc=new Uint8Array(n),r.avcc.set(new Uint8Array(e,t,n),0),console.log(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}},{key:"timestampBase",value:function(e){this._timestampBase=e}},{key:"_parseAVCVideoData",value:function(e,t,n,r,i,o,a){for(var s=this._littleEndian,u=new DataView(e,t,n),c=[],f=0,l=0,d=this._naluLengthSize,h=this._timestampBase+r,p=1===o;l<n;){if(l+4>=n){console.log(this.TAG,"Malformed Nalu near timestamp "+h+", offset = "+l+", dataSize = "+n);break}var v=u.getUint32(l,!s);if(3===d&&(v>>>=8),v>n-d)return void console.log(this.TAG,"Malformed Nalus near timestamp "+h+", NaluSize > DataSize!");var y=31&u.getUint8(l+d);5===y&&(p=!0);var m=new Uint8Array(e,t+l,d+v),g={type:y,data:m};c.push(g),f+=m.byteLength,l+=d+v}if(c.length){var b=this._videoTrack,_={units:c,length:f,isKeyframe:p,dts:h,cts:a,pts:h+a};p&&(_.fileposition=i),b.samples.push(_),b.length+=f}}},{key:"_parseAudioData",value:function(e,t,n,r){if(r==this._timestampBase&&0!=this._timestampBase&&console.log(r,this._timestampBase,"夭寿啦这个视频不是从0开始"),n<=1)return void console.log(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");var i=this._audioMetadata,o=this._audioTrack;if(!i||!i.codec){i=this._audioMetadata={},i.type="audio",i.id=o.id,i.timescale=this._timescale,i.duration=this._duration;var a=new DataView(e,t,n),s=a.getUint8(0),u=s>>>4;if(10!==u)return void this._onError(DemuxErrors.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+u);var c=0,f=(12&s)>>>2,l=[5500,11025,22050,44100,48e3];if(!(f<l.length))return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+f);c=l[f];var d=1&s;i.audioSampleRate=c,i.channelCount=0===d?1:2,i.refSampleDuration=Math.floor(1024/i.audioSampleRate*i.timescale),i.codec="mp4a.40.5"}var h=this._parseAACAudioData(e,t+1,n-1);if(void 0!=h){if(0===h.packetType){i.config&&console.log(this.TAG,"Found another AudioSpecificConfig!");var p=h.data;i.audioSampleRate=p.samplingRate,i.channelCount=p.channelCount,i.codec=p.codec,i.config=p.config,i.refSampleDuration=Math.floor(1024/i.audioSampleRate*i.timescale),console.log(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",i);var v=this._mediaInfo;return v.audioCodec="mp4a.40."+p.originalAudioObjectType,v.audioSampleRate=i.audioSampleRate,v.audioChannelCount=i.channelCount,v.hasVideo?null!=v.videoCodec&&(v.mimeType='video/x-flv; codecs="'+v.videoCodec+","+v.audioCodec+'"'):v.mimeType='video/x-flv; codecs="'+v.audioCodec+'"',void(v.isComplete()&&this._onMediaInfo(v))}if(1===h.packetType){var y=this._timestampBase+r,m={unit:h.data,dts:y,pts:y};o.samples.push(m),o.length+=h.data.length}else console.log(this.TAG,"Flv: Unsupported AAC data type "+h.packetType)}}},{key:"_parseAACAudioData",value:function(e,t,n){if(n<=1)return void console.log(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");var r={},i=new Uint8Array(e,t,n);return r.packetType=i[0],0===i[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):r.data=i.subarray(1),r}},{key:"_parseAACAudioSpecificConfig",value:function(e,t,n){var r=new Uint8Array(e,t,n),i=null,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=0,s=0,u=0,c=null;if(a=s=r[0]>>>3,(u=(7&r[0])<<1|r[1]>>>7)<0||u>=o.length)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");var f=o[u],l=(120&r[1])>>>3;if(l<0||l>=8)return void this._onError(DemuxErrors.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===a&&(c=(7&r[1])<<1|r[2]>>>7);var d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?u>=6?(a=5,i=new Array(4),c=u-3):(a=2,i=new Array(2),c=u):-1!==d.indexOf("android")?(a=2,i=new Array(2),c=u):(a=5,c=u,i=new Array(4),u>=6?c=u-3:1===l&&(a=2,i=new Array(2),c=u)),i[0]=a<<3,i[0]|=(15&u)>>>1,i[1]=(15&u)<<7,i[1]|=(15&l)<<3,5===a&&(i[1]|=(15&c)>>>1,i[2]=(1&c)<<7,i[2]|=8,i[3]=0),{config:i,samplingRate:f,channelCount:l,codec:"mp4a.40."+a,originalAudioObjectType:s}}},{key:"_isInitialMetadataDispatched",value:function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:void 0}},{key:"hasAudio",set:function(e){this._mediaInfo.hasAudio=this._hasAudio=e}},{key:"hasVideo",set:function(e){this._mediaInfo.hasVideo=this._hasVideo=e}}]),e}(),gn=function(){function e(){rn(this,e),this.tempUint8=new Uint8Array,this.arrTag=[],this.index=0,this.tempArr=[],this.stop=!1,this.offset=0,this.frist=!0,this._hasAudio=!1,this._hasVideo=!1}return cn(e,[{key:"setFlv",value:function(e){return this.stop=!1,this.arrTag=[],this.index=0,this.tempUint8=e,this.tempUint8.length>13&&70==this.tempUint8[0]&&76==this.tempUint8[1]&&86==this.tempUint8[2]?(this.probe(this.tempUint8.buffer),this.read(9),this.read(4),this.parse(),this.frist=!1,this.offset):this.frist?this.offset:this.parse()}},{key:"probe",value:function(e){var t=new Uint8Array(e),n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;var r=(4&t[4])>>>2!=0,i=0!=(1&t[4]);return r||i?(this._hasAudio=mn._hasAudio=r,this._hasVideo=mn._hasVideo=i,{match:!0,hasAudioTrack:r,hasVideoTrack:i}):n}},{key:"parse",value:function(){for(;this.index<this.tempUint8.length&&!this.stop;){this.offset=this.index;var e=new fn;if(this.tempUint8.length-this.index>=11){if(e.tagType=this.read(1)[0],e.dataSize=this.read(3),e.Timestamp=this.read(4),e.StreamID=this.read(3),18!=e.tagType&&8!=e.tagType&&9!=e.tagType)throw new yn("wrong tagType"+e.tagType);this.tempUint8.length-this.index>=this.getBodySum(e.dataSize)+4?(e.body=this.read(this.getBodySum(e.dataSize)),9==e.tagType&&this._hasVideo&&this.arrTag.push(e),8==e.tagType&&this._hasAudio&&this.arrTag.push(e),18==e.tagType&&0==this.arrTag.length&&this.arrTag.push(e),e.size=this.read(4),this.offset=this.index):this.stop=!0}else this.stop=!0}return this.offset}},{key:"read",value:function(e){var t=this.tempUint8.slice(this.index,this.index+e);return this.index+=e,t}},{key:"getBodySum",value:function(e){var t="";return t+=1==e[0].toString(16).length?"0"+e[0].toString(16):e[0].toString(16),t+=1==e[1].toString(16).length?"0"+e[1].toString(16):e[1].toString(16),t+=1==e[2].toString(16).length?"0"+e[2].toString(16):e[2].toString(16),parseInt(t,16)}}]),e}(),bn=function(){function e(){rn(this,e)}return cn(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};for(var t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=e.constants={};n.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),n.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),n.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),n.STSC=n.STCO=n.STTS,n.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),n.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),n.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,n=null,r=Array.prototype.slice.call(arguments,1),i=r.length,o=0;o<i;o++)t+=r[o].byteLength;n=new Uint8Array(t),n[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);for(var a=8,s=0;s<i;s++)n.set(r[s],a),a+=r[s].byteLength;return n}},{key:"generateInitSegment",value:function(t){t.constructor!=Array&&(t=[t]);var n=e.box(e.types.ftyp,e.constants.FTYP),r=e.moov(t),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(n,0),i.set(r,n.byteLength),i}},{key:"moov",value:function(t){var n=e.mvhd(t[0].timescale,t[0].duration),r=e.trak(t[0]),i=void 0;t.length>1&&(i=e.trak(t[1]));var o=e.mvex(t);return t.length>1?e.box(e.types.moov,n,r,i,o):e.box(e.types.moov,n,r,o)}},{key:"mvhd",value:function(t,n){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration,i=t.presentWidth,o=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>>8&255,255&i,0,0,o>>>8&255,255&o,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))}},{key:"mdhd",value:function(t){var n=t.timescale,r=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))}},{key:"hdlr",value:function(t){var n=null;return n="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,n)}},{key:"minf",value:function(t){var n=null;return n="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,n,e.dinf(),e.stbl(t))}},{key:"dinf",value:function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))}},{key:"stsd",value:function(t){return"audio"===t.type?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))}},{key:"mp4a",value:function(t){var n=t.channelCount,r=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return e.box(e.types.mp4a,i,e.esds(t))}},{key:"esds",value:function(t){var n=t.config,r=n.length,i=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(n).concat([6,1,2]));return e.box(e.types.esds,i)}},{key:"avc1",value:function(t){var n=t.avcc,r=t.codecWidth,i=t.codecHeight,o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,i>>>8&255,255&i,0,72,0,0,0,72,0,0,0,0,0,0,0,1,4,103,49,49,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,o,e.box(e.types.avcC,n))}},{key:"mvex",value:function(t){return t.length>1?e.box(e.types.mvex,e.trex(t[0]),e.trex(t[1])):e.box(e.types.mvex,e.trex(t[0]))}},{key:"trex",value:function(t){var n=t.id,r=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,r)}},{key:"moof",value:function(t,n){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,n))}},{key:"mfhd",value:function(t){var n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,n)}},{key:"traf",value:function(t,n){var r=t.id,i=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),o=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),a=e.sdtp(t),s=e.trun(t,a.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,i,o,s,a)}},{key:"sdtp",value:function(t){for(var n=t.samples||[],r=n.length,i=new Uint8Array(4+r),o=0;o<r;o++){var a=n[o].flags;i[o+4]=a.isLeading<<6|a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy}return e.box(e.types.sdtp,i)}},{key:"trun",value:function(t,n){var r=t.samples||[],i=r.length,o=12+16*i,a=new Uint8Array(o);n+=8+o,a.set([0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var s=0;s<i;s++){var u=r[s].duration,c=r[s].size,f=r[s].flags,l=r[s].cts;a.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,c>>>24&255,c>>>16&255,c>>>8&255,255&c,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.isNonSync,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*s)}return e.box(e.types.trun,a)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}]),e}();bn.init();var _n=function(){function e(){rn(this,e)}return cn(e,null,[{key:"getSilentFrame",value:function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}(),wn={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},i={};if(r.browser){i[r.browser]=!0;var o=r.majorVersion.split(".");i.version={major:parseInt(r.majorVersion,10),string:r.version},o.length>1&&(i.version.minor=parseInt(o[1],10)),o.length>2&&(i.version.build=parseInt(o[2],10))}r.platform&&(i[r.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),(i.rv||i.iemobile)&&(i.rv&&delete i.rv,r.browser="msie",i.msie=!0),i.edge&&(delete i.edge,r.browser="msedge",i.msedge=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.name=r.browser,i.platform=r.platform;for(var a in wn)wn.hasOwnProperty(a)&&delete wn[a];tn(wn,i)}();var Sn=function e(t,n,r,i,o){rn(this,e),this.dts=t,this.pts=n,this.duration=r,this.originalDts=i,this.isSyncPoint=o,this.fileposition=null},kn=function(){function e(){rn(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return cn(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}(),On=(function(){function e(){rn(this,e),this._list=[]}cn(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0==this._list.length)return null;var t=this._list,n=0,r=t.length-1,i=0,o=0,a=r;for(e<t[0].dts&&(n=0,o=a+1);o<=a;){if((i=o+Math.floor((a-o)/2))===r||e>=t[i].dts&&e<t[i+1].dts){n=i;break}t[i].dts<e?o=i+1:a=i-1}return this._list[n]}}])}(),function(){function e(t){rn(this,e),this._type=t,this._list=[],this._lastAppendLocation=-1}return cn(e,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var n=t.length-1,r=0,i=0,o=n,a=0;if(e<t[0].originalBeginDts)return a=-1;for(;i<=o;){if((r=i+Math.floor((o-i)/2))===n||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){a=r;break}t[r].originalBeginDts<e?i=r+1:o=r-1}return a}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,n=e,r=this._lastAppendLocation,i=0;-1!==r&&r<t.length&&n.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&n.originalBeginDts<t[r+1].originalBeginDts)?i=r+1:t.length>0&&(i=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,n)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;0===n.length&&t>0;)t--,n=this._list[t].syncPoints;return n.length>0?n[n.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),e}()),En=function(){function e(t){rn(this,e),this.TAG="MP4Remuxer",this._config=t,this._isLive=!0===t.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new On("audio"),this._videoSegmentInfoList=new On("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!wn.chrome||!(wn.version.major<50||50===wn.version.major&&wn.version.build<2661)),this._fillSilentAfterSeek=wn.msedge||wn.msie,this._mp3UseMpegAudio=!wn.firefox}return cn(e,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(e){this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var n=null,r="mp4",i=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",i="",n=new Uint8Array):n=bn.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=bn.generateInitSegment(t)}if(!this._onInitSegment)throw new IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:i,container:e+"/"+r,mediaDuration:t.duration})}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"_remuxAudio",value:function(e){if(null!=this._audioMeta){var t=e,n=t.samples,r=void 0,i=-1,o=-1,a=this._audioMeta.refSampleDuration,s="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,u=this._dtsBaseInited&&void 0===this._audioNextDts,c=!1;if(n&&0!==n.length){var f=0,l=null,d=0;s?(f=0,d=t.length):(f=8,d=8+t.length);var h=n[0].dts-this._dtsBase;if(this._audioNextDts)r=h-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())r=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(c=!0);else{var p=this._audioSegmentInfoList.getLastSampleBefore(h);if(null!=p){var v=h-(p.originalDts+p.duration);v<=3&&(v=0);var y=p.dts+p.duration+v;r=h-y}else r=0}if(c){var m=h-r,g=this._videoSegmentInfoList.getLastSegmentBefore(h);if(null!=g&&g.beginDts<m){var b=_n.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(b){var _=g.beginDts,w=m-g.beginDts;Log.v(this.TAG,"InsertPrefixSilentAudio: dts: "+_+", duration: "+w),n.unshift({unit:b,dts:_,pts:_}),d+=b.byteLength}}else c=!1}for(var S=[],k=0;k<n.length;k++){var O=n[k],E=O.unit,x=O.dts-this._dtsBase,A=x-r;-1===i&&(i=A);var M=0;if(k!==n.length-1){M=n[k+1].dts-this._dtsBase-r-A}else M=S.length>=1?S[S.length-1].duration:Math.floor(a);var j=!1,T=null;if(M>1.5*a&&"mp3"!==this._audioMeta.codec){j=!0;var L=Math.abs(M-a),P=Math.ceil(L/a),C=A+a,B=_n.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==B&&(B=E),T=[];for(var R=0;R<P;R++){var D=Math.round(C);if(T.length>0){var I=T[T.length-1];I.duration=D-I.dts}var N={dts:D,pts:D,cts:0,unit:B,size:B.byteLength,duration:0,originalDts:x,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};T.push(N),d+=E.byteLength,C+=a}var U=T[T.length-1];U.duration=A+M-U.dts,M=Math.round(a)}S.push({dts:A,pts:A,cts:0,unit:O.unit,size:O.unit.byteLength,duration:M,originalDts:x,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),j&&S.push.apply(S,T)}s?l=new Uint8Array(d):(l=new Uint8Array(d),l[0]=d>>>24&255,l[1]=d>>>16&255,l[2]=d>>>8&255,l[3]=255&d,l.set(bn.types.mdat,4));for(var F=0;F<S.length;F++){var z=S[F].unit;l.set(z,f),f+=z.byteLength}var V=S[S.length-1];o=V.dts+V.duration,this._audioNextDts=o;var G=new kn;G.beginDts=i,G.endDts=o,G.beginPts=i,G.endPts=o,G.originalBeginDts=S[0].originalDts,G.originalEndDts=V.originalDts+V.duration,G.firstSample=new Sn(S[0].dts,S[0].pts,S[0].duration,S[0].originalDts,!1),G.lastSample=new Sn(V.dts,V.pts,V.duration,V.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(G),t.samples=S,t.sequenceNumber++;var q=null;q=s?new Uint8Array:bn.moof(t,i),t.samples=[],t.length=0;var W={type:"audio",data:this._mergeBoxes(q,l).buffer,sampleCount:S.length,info:G};s&&u&&(W.timestampOffset=i),this._onMediaSegment("audio",W)}}}},{key:"_remuxVideo",value:function(e){if(null!=this._videoMeta){var t=e,n=t.samples,r=void 0,i=-1,o=-1,a=-1,s=-1;if(n&&0!==n.length){var u=8,c=8+e.length,f=new Uint8Array(c);f[0]=c>>>24&255,f[1]=c>>>16&255,f[2]=c>>>8&255,f[3]=255&c,f.set(bn.types.mdat,4);var l=n[0].dts-this._dtsBase;if(this._videoNextDts)r=l-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())r=0;else{var d=this._videoSegmentInfoList.getLastSampleBefore(l);if(null!=d){var h=l-(d.originalDts+d.duration);h<=3&&(h=0);var p=d.dts+d.duration+h;r=l-p}else r=0}for(var v=new kn,y=[],m=0;m<n.length;m++){var g=n[m],b=g.dts-this._dtsBase,_=g.isKeyframe,w=b-r,S=g.cts,k=w+S;-1===i&&(i=w,a=k);var O=0;if(m!==n.length-1){O=n[m+1].dts-this._dtsBase-r-w}else O=y.length>=1?y[y.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(_){var E=new Sn(w,k,O,g.dts,!0);E.fileposition=g.fileposition,v.appendSyncPoint(E)}y.push({dts:w,pts:k,cts:S,units:g.units,size:g.length,isKeyframe:_,duration:O,originalDts:b,flags:{isLeading:0,dependsOn:_?2:1,isDependedOn:_?1:0,hasRedundancy:0,isNonSync:_?0:1}})}for(var x=0;x<y.length;x++)for(var A=y[x].units;A.length;){var M=A.shift(),j=M.data;f.set(j,u),u+=j.byteLength}var T=y[y.length-1];if(o=T.dts+T.duration,s=T.pts+T.duration,this._videoNextDts=o,v.beginDts=i,v.endDts=o,v.beginPts=a,v.endPts=s,v.originalBeginDts=y[0].originalDts,v.originalEndDts=T.originalDts+T.duration,v.firstSample=new Sn(y[0].dts,y[0].pts,y[0].duration,y[0].originalDts,y[0].isKeyframe),v.lastSample=new Sn(T.dts,T.pts,T.duration,T.originalDts,T.isKeyframe),this._isLive||this._videoSegmentInfoList.append(v),t.samples=y,t.sequenceNumber++,this._forceFirstIDR){var L=y[0].flags;L.dependsOn=2,L.isNonSync=0}var P=bn.moof(t,i);t.samples=[],t.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(P,f).buffer,sampleCount:y.length,info:v})}}}},{key:"_mergeBoxes",value:function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}]),e}(),xn=function(){function e(t){rn(this,e),this._config={_isLive:!1},this._config=tn(this._config,t),this.onInitSegment=null,this.onMediaSegment=null,this.onMediaInfo=null,this.seekCallBack=null,this.loadmetadata=!1,this.ftyp_moov=null,this._tagdemux=new mn,this._flvparse=new gn,this.ftyp_moov_v=null,this.ftyp_moov_a=null,this.metaSuccRun=!1,this.metas=[],this.parseChunk=null,this.hasVideo=!1,this.hasAudio=!1,this._error=null,this._pendingResolveSeekPoint=-1,this._tempBaseTime=0,this.setflvBase=this.setflvBasefrist,this._tagdemux._onTrackMetadata=this.Metadata.bind(this),this._tagdemux._onMediaInfo=this.metaSucc.bind(this),this._tagdemux._onDataAvailable=this.onDataAvailable.bind(this),this._tagdemux._onError=this.error.bind(this),this.m4mof=new En(this._config),this.m4mof.onMediaSegment=this.onMdiaSegment.bind(this)}return cn(e,[{key:"seek",value:function(e){this.setflvBase=this.setflvBasefrist,void 0!=e&&0!=e||(e=0,this._pendingResolveSeekPoint=-1),this._tempBaseTime!=e&&(this._tempBaseTime=e,this._tagdemux._timestampBase=e,this.m4mof.seek(e),this.m4mof.insertDiscontinuity(),this._pendingResolveSeekPoint=e)}},{key:"setflvBasefrist",value:function(e,t){var n=0;try{n=this._flvparse.setFlv(new Uint8Array(e))}catch(e){this.error(e)}if(0==this._flvparse.arrTag.length)return n;if(18!=this._flvparse.arrTag[0].tagType&&this.error&&this.error(new yn("without metadata tag")),this._flvparse.arrTag.length>0){this._tagdemux.hasAudio=this.hasAudio=this._flvparse._hasAudio,this._tagdemux.hasVideo=this.hasVideo=this._flvparse._hasVideo,0!=this._tempBaseTime&&this._tempBaseTime==this._flvparse.arrTag[0].getTime()&&(this._tagdemux._timestampBase=0);try{this._tagdemux.moofTag(this._flvparse.arrTag)}catch(e){this.error(e)}this.setflvBase=this.setflvBaseUsually}return n}},{key:"setflvBaseUsually",value:function(e,t){var n=0;try{n=this._flvparse.setFlv(new Uint8Array(e))}catch(e){this.error(e)}if(this._flvparse.arrTag.length>0)try{this._tagdemux.moofTag(this._flvparse.arrTag)}catch(e){this.error(e)}return n}},{key:"onMdiaSegment",value:function(e,t){if(this.onMediaSegment&&this.onMediaSegment(e,new Uint8Array(t.data)),-1!=this._pendingResolveSeekPoint&&"video"==e){var n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=-1,this.seekCallBack&&this.seekCallBack(n)}}},{key:"Metadata",value:function(e,t){switch(e){case"video":if(this.metas.push(["video",t]),this.m4mof._videoMeta=t,this.hasVideo&&!this.hasAudio)return void this.metaSucc();break;case"audio":if(this.metas.push(["audio",t]),this.m4mof._audioMeta=t,!this.hasVideo&&this.hasAudio)return void this.metaSucc()}this.hasVideo&&this.hasAudio&&this.metas.length>1&&this.metaSucc()}},{key:"metaSucc",value:function(e){var t=this;if(this.onMediaInfo&&e&&this.onMediaInfo(e||this._tagdemux._mediaInfo,{hasAudio:this.hasAudio,hasVideo:this.hasVideo}),0==this.metas.length)return void(this.metaSuccRun=!0);e||(this.metas.length>1?this.metas.map(function(e){"video"==e[0]?t.ftyp_moov_v=bn.generateInitSegment([e[1]]):t.ftyp_moov_a=bn.generateInitSegment([e[1]])}):this.ftyp_moov=bn.generateInitSegment([this.metas[0][1]]),this.onInitSegment&&0==this.loadmetadata&&(this.ftyp_moov?this.onInitSegment(this.ftyp_moov):this.onInitSegment(this.ftyp_moov_v,this.ftyp_moov_a),this.loadmetadata=!0))}},{key:"onDataAvailable",value:function(e,t){try{this.m4mof.remux(e,t)}catch(e){this.error(e)}}},{key:"setflv",value:function(e,t){return this.setflvBase(e,t)}},{key:"setflvloc",value:function(e){gn.setFlv(new Uint8Array(e));if(gn.arrTag.length>0)return gn.arrTag}},{key:"error",value:function(e){this._error&&this._error(e)}}]),e}(),An=function(e){function t(e){rn(this,t);var n=zt(this,(t.__proto__||W(t)).call(this));return n.f2m=new xn(e),n.f2m._error=n.error.bind(n),n._onInitSegment=null,n._onMediaSegment=null,n._onMediaInfo=null,n._seekCallBack=null,n}return Yt(t,e),cn(t,[{key:"error",value:function(e){this.emit("error",e.type)}},{key:"seek",value:function(e){this.f2m.seek(e)}},{key:"setflv",value:function(e){return this.f2m.setflv(e,0)}},{key:"setflvloc",value:function(e){return this.f2m.setflvloc(e)}},{key:"onInitSegment",set:function(e){this._onInitSegment=e,this.f2m.onInitSegment=e}},{key:"onMediaSegment",set:function(e){this._onMediaSegment=e,this.f2m.onMediaSegment=e}},{key:"onMediaInfo",set:function(e){this._onMediaInfo=e,this.f2m.onMediaInfo=e}},{key:"seekCallBack",set:function(e){this._seekCallBack=e,this.f2m.seekCallBack=e}}]),t}(s.CustEvent);t.default=An},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),c=r(u),f=n(8),l=r(f),d=n(16),h=r(d),p=n(17),v=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.tag="flv-player",r.video=e,r.box="flv",r.timer=null,r.config=(0,p.deepAssign)({},h.default,n),r.requestSetTime=!1,r.bindEvents(),r.attachMedia(),r}return a(t,e),s(t,null,[{key:"isSupport",value:function(){var e=new p.UAParser,t=e.getBrowser();return!("Safari"===t.name&&parseInt(t.major)<10)&&!(!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.640020,mp4a.40.2"'))}},{key:"version",get:function(){return"1.3.5"}}]),s(t,[{key:"internalPropertyHandle",value:function(){if(Object.getOwnPropertyDescriptor){var e=this,t=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");Object.defineProperty(this.video,"currentTime",{get:function(){return t.get.call(e.video)},set:function(n){if(e.currentTimeLock)return t.set.call(e.video,n);throw new Error("can not set currentTime by youself")}})}}},{key:"bindEvents",value:function(){var e=this;this.video&&this.video.addEventListener("canplay",function(){e.config.isLive&&e.video.play(),e.config.lockInternalProperty&&e.internalPropertyHandle()})}},{key:"attachMedia",value:function(){var e=this;this.mediaSource=new c.default(this.video,this.config),this.mediaSource.on("error",function(){e.transmuxer&&e.transmuxer.pause()}),this.mediaSource.on("bufferFull",function(){e.pauseTransmuxer()}),this.mediaSource.on("updateend",function(){e.onmseUpdateEnd()})}},{key:"load",value:function(e){var t=this;e&&(this.config.src=e),this.transmuxer=new l.default(this.mediaSource,this.config),this.transmuxer.on("mediaSegment",function(e){t.mediaSource.emit("mediaSegment",e.data)}),this.transmuxer.on("mediaSegmentInit",function(e){t.mediaSource.emit("mediaSegmentInit",e.data)}),this.transmuxer.on("error",function(e){t.emit("error",e.data),t.transmuxer.pause(),t.mediaSource.pause()}),this.transmuxer.on("end",function(e){t.mediaSource.endOfStream()}),this.transmuxer.on("mediaInfo",function(e){t.mediaInfo||(t.mediaInfo=e,t.emit("mediaInfo",e),t.mediaSource.init(e),t.video.src=URL.createObjectURL(t.mediaSource.mediaSource),t.video.addEventListener("seeking",(0,p.throttle)(t._seek.bind(t),200,{leading:!1})))}),this.transmuxer.loadSource()}},{key:"isTimeinBuffered",value:function(e){for(var t=this.video.buffered,n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(e>=r&&e<i)return!0}return!1}},{key:"getCurrentBufferEnd",value:function(){for(var e=this.video.buffered,t=this.video.currentTime,n=0;n<e.length;n++){var r=e.end(n);if(t<r)return r}}},{key:"_seek",value:function(e){this.currentTimeLock=!0;var t=e&&!isNaN(e)?e:this.video.currentTime;if(this.requestSetTime)return this.requestSetTime=!1,void(this.currentTimeLock=!1);if(this.isTimeinBuffered(t)){if(this.config.alwaysSeekKeyframe){var n=this.transmuxer.getNearestKeyframe(Math.floor(1e3*t));n&&(this.requestSetTime=!0,this.video.currentTime=n.keyframetime/1e3)}}else{p.Log.verbose(this.tag,"do seek"),this.transmuxer.pause();var r=this.transmuxer.getNearestKeyframe(Math.floor(1e3*t));t=r.keyframetime/1e3,this.transmuxer.seek(r),this.mediaSource.seek(t),this.requestSetTime=!0,this.video.currentTime=t,window.clearInterval(this.timer),this.timer=null}return this.currentTimeLock=!1,t}},{key:"onmseUpdateEnd",value:function(){if(!this.config.isLive){this.getCurrentBufferEnd()>=this.video.currentTime+this.config.lazyLoadMaxDuration&&null===this.timer&&(p.Log.verbose(this.tag,"Maximum buffering duration exceeded, suspend transmuxing task"),this.pauseTransmuxer())}}},{key:"heartbeat",value:function(){for(var e=this.video.currentTime,t=this.video.buffered,n=!1,r=0;r<t.length;r++){var i=t.start(r),o=t.end(r);if(e>=i&&e<o){e>=o-this.config.lazyLoadRecoverDuration&&(n=!0);break}}n&&(window.clearInterval(this.timer),this.timer=null,p.Log.verbose(this.tag,"Continue loading from paused position"),this.transmuxer.resume(),this.mediaSource.resume())}},{key:"pauseTransmuxer",value:function(){this.transmuxer.pause(),this.mediaSource.pause(),this.timer||(this.timer=setInterval(this.heartbeat.bind(this),1e3))}},{key:"resume",value:function(){this._seek(0)}},{key:"destroy",value:function(){this.video&&(URL.revokeObjectURL(this.video.src),this.video.src="",this.video.removeAttribute("src"),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.mediaSource&&(this.mediaSource.destroy(),this.mediaSource=null))}},{key:"seek",value:function(e){return this._seek(e)}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){return this.video.pause()}},{key:"refresh",value:function(){this.transmuxer?this.transmuxer.refresh():p.Log.verbose(this.tag,"transmuxer not ready")}}]),t}(p.CustEvent);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.video=e,o.config=n,o.tag="mse-controller",o.e={onSourceOpen:o.onSourceOpen.bind(o),onSourceEnded:o.onSourceEnded.bind(o),onSourceClose:o.onSourceClose.bind(o),onSourceBufferError:o.onSourceBufferError.bind(o)},o.hasVideo=!0,o.hasAudio=!0,o.removeRangesList={video:[],audio:[]},o.removeBucketing=!1,o.timer={video:null,audio:null},o.queue={video:[],audio:[]},o.sourceBuffer={video:null,audio:null},o.mimeCodec={video:null,audio:null},o.sourceBufferEvent(),o.complete=!1,o}return o(t,e),a(t,[{key:"init",value:function(e){if(this.mediaSource)throw c.default.Error(this.tag,"MediaSource has been attached to an HTMLMediaElement!"),new Error("MediaSource has been attached to an HTMLMediaElement!");e.data.hasAudio?this.mimeCodec.audio='video/mp4; codecs="'+e.data.audioCodec:this.hasAudio=!1,e.data.hasVideo?this.mimeCodec.video='video/mp4; codecs="'+e.data.videoCodec:this.hasVideo=!1;var t=this.mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose)}},{key:"onSourceOpen",value:function(){c.default.verbose(this.tag,"MediaSource onSourceOpen"),this.mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this.hasAudio&&this.addSourceBuffer("audio"),this.hasVideo&&this.addSourceBuffer("video"),this.hasQueueList()&&this.doUpdate(),this.emit("source_open")}},{key:"addSourceBuffer",value:function(e){var t=this;this.sourceBuffer[e]=this.mediaSource.addSourceBuffer(this.mimeCodec[e]),c.default.verbose(this.tag,"add sourcebuffer "+e);var n=this.sourceBuffer[e];n.addEventListener("error",this.e.onSourceBufferError),n.addEventListener("abort",function(){return c.default.verbose(t.tag,"sourceBuffer: abort")}),n.addEventListener("updateend",function(){t.hasRemoveList()?(t.removeRangesList.video.length&&t.cleanRangesList("video"),t.removeRangesList.audio.length&&t.cleanRangesList("audio")):t.hasQueueList()?t.doUpdate():t.complete&&!t.sourceBuffer[e].updating&&t.endOfStream(),t.emit("updateend")})}},{key:"hasRemoveList",value:function(){return this.removeRangesList.video.length||this.removeRangesList.audio.length}},{key:"hasQueueList",value:function(){return this.queue.video.length||this.queue.audio.length}},{key:"doUpdate",value:function(){for(var e in this.queue)if(this.queue[e].length>0&&!this.sourceBuffer[e].updating){var t=this.queue[e].shift();this.appendBuffer(t,e)}}},{key:"sourceBufferEvent",value:function(){var e=this;this.on("mediaSegment",function(t){var n=t.data,r=n.type;e.needCleanupSourceBuffer(r)&&e.doCleanupSourceBuffer(r),!e.sourceBuffer[r]||e.sourceBuffer[r].updating||e.queue[r].length>0?e.queue[r].push(n.data):e.appendBuffer(n.data,r)}),this.on("mediaSegmentInit",function(t){var n=t.data,r=n.type;e.queue[r].push(n.data)})}},{key:"needCleanupSourceBuffer",value:function(e){var t=this.video.currentTime,n=this.video.buffered;return n.length>=1&&t-n.start(0)>=this.config.autoCleanupMaxBackwardDuration}},{key:"doCleanupSourceBuffer",value:function(e){c.default.verbose(this.tag,"docleanBuffer");for(var t=this.video.currentTime,n=this.sourceBuffer[e],r=n.buffered,i=!1,o=0;o<r.length;o++){var a=r.start(o),s=r.end(o);if(a<=t&&t<s+3&&t-a>=this.config.autoCleanupMaxBackwardDuration){i=!0;var u=t-this.config.autoCleanupMinBackwardDuration;this.removeRangesList[e].push({start:a,end:u})}}i&&!this.sourceBuffer[e].updating&&this.cleanRangesList(e)}},{key:"cleanRangesList",value:function(e){if(!this.sourceBuffer[e].updating)for(var t=this.sourceBuffer[e];this.removeRangesList[e].length&&!t.updating;){var n=this.removeRangesList[e].shift();t.remove(n.start,n.end)}}},{key:"appendBuffer",value:function(e,t){try{this.sourceBuffer[t].appendBuffer(e.buffer)}catch(n){this.queue[t].unshift(e),22===n.code?(c.default.verbose(this.tag,"MediaSource bufferFull"),this.emit("bufferFull")):this.emit("error",n.message)}}},{key:"onSourceEnded",value:function(){c.default.verbose(this.tag,"MediaSource onSourceEnded")}},{key:"onSourceClose",value:function(){c.default.verbose(this.tag,"MediaSource onSourceClose"),this.mediaSource&&null!==this.e&&(this.mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this.mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this.mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}},{key:"onSourceBufferError",value:function(e){this.emit("error",e),c.default.error(this.tag,"SourceBuffer Error: "+e)}},{key:"seek",value:function(){for(var e in this.sourceBuffer){var t=this.sourceBuffer[e];if(t){if("open"===this.mediaSource.readyState)try{t.abort()}catch(e){c.default.error(this.tag,e.message)}this.queue[e]=[];for(var n=0;n<t.buffered.length;n++){var r=t.buffered.start(n),i=t.buffered.end(n);this.removeRangesList[e].push({start:r,end:i})}t.updating||this.cleanRangesList(e)}}}},{key:"resume",value:function(){this.doUpdate()}},{key:"pause",value:function(){}},{key:"endOfStream",value:function(){if(this.mediaSource){var e=this.mediaSource;this.complete=!0;var t=this.sourceBuffer;if(t.video&&t.video.updating||t.audio&&t.audio.updating)return;if("open"===e.readyState)try{this.complete=!1,e.endOfStream()}catch(e){c.default.verbose(this.tag,e)}}}},{key:"destroy",value:function(){if(this.mediaSource){var e=this.mediaSource;this.queue={video:[],audio:[]},this.sourceBuffer={video:null,audio:null},this.mimeCodec={video:null,audio:null};var t=this.sourceBuffer;this.endOfStream(),t&&("closed"!==e.readyState&&(e.removeSourceBuffer(t),t.removeEventListener("error",this.e.onSourceBufferError),t.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)),this.sourceBuffer=null),e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this.mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}}]),t}(s.CustEvent);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u),f=n(0),l=n(1),d=r(l),h=n(14),p=r(h),v=n(4),y=r(v),m=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.config={},r.tag="transmuxer",r.loader=null,r.CPU=null,r.keyframePoint=!1,r.w=null,Object.assign(r.config,n),r.config.webWorker&&(r.w=(0,p.default)(15),r.w.addEventListener("message",function(e){r.parseCallback.call(r,e.data)}),r.w.postMessage({cmd:"init",data:n})),r.lock=0,r}return a(t,e),s(t,[{key:"loadSource",value:function(){this.config.webWorker?this.w.postMessage({cmd:"loadSource"}):(this.loader=new c.default(this.config),this.loader.arrivalDataCallback=this.arrivalDataCallback.bind(this),this.loader.open(),this.loaderBindEvent())}},{key:"loaderBindEvent",value:function(){var e=this;this.loader&&this.loader.on("end",function(){e.emit("end")})}},{key:"arrivalDataCallback",value:function(e,t,n){var r=this;return this.CPU||(this.CPU=new y.default,this.CPU.onInitSegment=this.onRemuxerInitSegmentArrival.bind(this),this.CPU.onMediaSegment=this.onRemuxerMediaSegmentArrival.bind(this),this.CPU.onError=this.onCPUError.bind(this),this.CPU.onMediaInfo=this.onMediaInfo.bind(this),this.CPU.on("error",function(e){r.emit("error",e.data)})),n&&this.CPU.seek(n),this.CPU.setflv(e)}},{key:"parseCallback",value:function(e){switch(e.cmd){case"mediaSegmentInit":this.emit("mediaSegmentInit",e.source);break;case"mediaSegment":this.emit("mediaSegment",e.source);break;case"mediainfo":this.mediaInfo=e.source,this.emit("mediaInfo",e.source)}}},{key:"onDemuxError",value:function(e,t){d.default.error(this.tag,"DemuxError: type = "+e+", info = "+t),this.emit("DemuxError",e,t)}},{key:"onMediaInfo",value:function(e){this.mediaInfo=e,this.emit("mediaInfo",e)}},{key:"onRemuxerInitSegmentArrival",value:function(e,t){this.emit("mediaSegmentInit",{type:"video",data:e}),t&&this.emit("mediaSegmentInit",{type:"audio",data:t})}},{key:"onRemuxerMediaSegmentArrival",value:function(e,t){this.emit("mediaSegment",{type:e,data:t})}},{key:"onCPUError",value:function(e){this.emit("ERROR",e.data)}},{key:"getMediaInfo",value:function(){return this.mediaInfo}},{key:"pause",value:function(){this.config.webWorker?this.w.postMessage({cmd:"pause"}):this.loader.pause()}},{key:"resume",value:function(){this.config.webWorker?this.w.postMessage({cmd:"resume"}):this.loader.resume()}},{key:"isSeekable",value:function(){return this.mediaInfo.hasKeyframesIndex}},{key:"seek",value:function(e){if(!this.isSeekable())return this.emit("error","这个flv视频不支持seek"),!1;this.config.webWorker?this.w.postMessage({cmd:"seek",keyframe:e}):this.loader.seek(e.keyframePoint,!1,e.keyframetime)}},{key:"refresh",value:function(){this.config.webWorker?this.w.postMessage({cmd:"refresh"}):(this.pause(),this.loader.open())}},{key:"destroy",value:function(){this.config.webWorker?this.w.postMessage({cmd:"destroy"}):(this.loader.destroy(),this.loader=null,this.CPU=null)}},{key:"getNearestKeyframe",value:function(e){if(this.mediaInfo&&this.mediaInfo.keyframesIndex){var t=this.mediaInfo.keyframesIndex.times,n=this.mediaInfo.keyframesIndex.filepositions;return function e(r,i){var o=r.length,a=Math.floor(o/2);if(1===o){var s=t.indexOf(r[0]);return{keyframetime:r[0],keyframePoint:n[s]}}if(r[a]>i)return e(r.slice(0,a),i);if(r[a]<i)return e(r.slice(a),i);var u=t.indexOf(r[0]);return{keyframetime:r[0],keyframePoint:n[u]}}(t,e)}return 0}}]),t}(f.CustEvent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(10),c=r(u),f=n(0),l=n(1),d=r(l),h=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.tag="fetch",r.fetching=!1,r.config=n,r.range={from:0,to:524288},r.src=e,r.totalRange=null,r.block=524288,r.reader=null,r.requestAbort=!1,r.arrivalDataCallback=null,r.bytesStart=0,r}return a(t,e),s(t,null,[{key:"isSupport",value:function(){return!(!self.fetch||!self.ReadableStream)}}]),s(t,[{key:"open",value:function(e,t){var n=this;this.requestAbort=!1;var r=new Headers,i=e||{from:0,to:-1};if(!this.config.isLive){this.range.from=i.from,this.range.to=i.to;var o=(0,c.default)(i,this.config);if("string"==typeof o)this.src=this.config.src+o;else for(var a in o)r.append(a,o[a])}t&&(this.bytesStart=0),this.bytesStart=e.from;var s={method:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};fetch(this.src,s).then(function(e){if(e.ok){var r=e.body.getReader();return n.pump(r,t)}})}},{key:"pause",value:function(){this.requestAbort=!0}},{key:"pump",value:function(e,t){var n=this;return e.read().then(function(r){if(!r.done){if(!0===n.requestAbort)return n.requestAbort=!1,e.cancel();var i=r.value.buffer;return n.arrivalDataCallback&&(n.arrivalDataCallback(i,n.bytesStart,t),n.bytesStart+=i.byteLength),n.pump(e)}n.emit("end"),d.default.verbose(n.tag,"load end")}).catch(function(e){n.emit("error",e.message)})}}]),t}(f.CustEvent);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("range"===t.seekType){var n={},r=void 0;return r=-1!==e.to?"bytes="+e.from.toString()+"-"+e.to.toString():"bytes="+e.from.toString()+"-",n.Range=r,n}return-1!==e.to?"?start="+e.from.toString()+"&end="+e.to.toString():"?start="+e.from.toString()}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(0),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.tag="RangeLoader",o.xhr=null,o.src=e,o.totalLength=null,o.chunkSizeKB=524288,o.range={},o.bytesStart=0,o.needSeek=!1,o.keyframePoint=null,o}return o(t,e),a(t,null,[{key:"isSupport",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return!1}}}]),a(t,[{key:"open",value:function(e,t){var n=this.xhr=new XMLHttpRequest;n.open("GET",this.src,!0),n.responseType="arraybuffer",n.onreadystatechange=this.onReadyStateChange.bind(this),n.onprogress=this.onProgress.bind(this),n.onload=this.onLoad.bind(this),n.onerror=this.onXhrError.bind(this);var r=e||{from:0,to:-1};this.range.from=r.from,-1===r.to&&(r.to=r.from+this.chunkSizeKB),t&&(this.bytesStart=e.from,this.needSeek=!0,this.keyframePoint=t),this.range.to=r.to;var i=(0,u.default)(r).headers;for(var o in i)n.setRequestHeader(o,i[o]);n.send()}},{key:"pause",value:function(){this.abort()}},{key:"abort",value:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr.abort(),this.xhr=null)}},{key:"destroy",value:function(){this.xhr&&(this.abort(),this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr=null),this.totalLength=null,this.bytesStart=null,this.range={}}},{key:"onReadyStateChange",value:function(e){var t=this.xhr;if(2===t.readyState&&t.status<200&&t.status>299){var n={from:this.range.from,to:this.range.to,url:this.src,msg:"http Error: http code "+t.status};this.emit(this.tag,n)}}},{key:"onProgress",value:function(e){this.totalLength||(this.totalLength=e.total,this.abort(),this.open())}},{key:"onLoad",value:function(e){if(this.totalLength&&this.arrivalDataCallback){var t=e.target.response;this.needSeek?(this.needSeek=!1,this.arrivalDataCallback(t,this.bytesStart,this.keyframePoint)):this.arrivalDataCallback(t,this.bytesStart),this.bytesStart+=t.byteLength,this.open({from:this.bytesStart,to:-1})}}},{key:"onXhrError",value:function(e){var t={from:this.range.from,to:this.range.to,url:this.src,msg:e.constructor.name+" "+e.type};this.emit(this.tag,t)}}]),t}(c.CustEvent);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.tag="WebSocket",o.src=e,o._ws=null,o._requestAbort=!1,o._receivedLength=0,o}return o(t,e),a(t,null,[{key:"isSupported",value:function(){try{return void 0!==window.WebSocket}catch(e){return!1}}}]),a(t,[{key:"destroy",value:function(){this._ws&&this.abort()}},{key:"open",value:function(e,t){try{var n=this._ws=new self.WebSocket(this.src);n.binaryType="arraybuffer",n.onopen=this.onWebSocketOpen.bind(this),n.onclose=this.onWebSocketClose.bind(this),n.onmessage=this.onWebSocketMessage.bind(this),n.onerror=this.onWebSocketError.bind(this)}catch(e){var r={code:e.code,msg:e.message};if(!this._onError)throw new Error(r.msg);this._onError("Exception",r)}}},{key:"abort",value:function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null}},{key:"onWebSocketClose",value:function(e){if(!0===this._requestAbort)return void(this._requestAbort=!1);this.emit("end")}},{key:"onWebSocketMessage",value:function(e){var t=this;if(e.data instanceof ArrayBuffer)this.dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var n=new FileReader;n.onload=function(){t.dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(e.data)}else{var r={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new Error(r.msg);this._onError("Exception",r)}}},{key:"dispatchArrayBuffer",value:function(e){var t=e,n=this.receivedLength;this.receivedLength+=t.byteLength,this.arrivalDataCallback&&this.arrivalDataCallback(t,n,this.receivedLength)}},{key:"onWebSocketError",value:function(e){var t={code:e.code,msg:e.message};if(!this._onError)throw new Error(t.msg);this._onError("Exception",t)}}]),t}(s.CustEvent);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(0),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.tag="mozChunkLoader",o.xhr=null,o.src=e,o.config=n,o.totalLength=null,o.chunkSizeKB=393216,o.range={},o.bytesStart=0,o.keyframePoint=null,o}return o(t,e),a(t,null,[{key:"isSupport",value:function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return!1}}}]),a(t,[{key:"open",value:function(e,t){var n=this.xhr=new XMLHttpRequest;if(n.open("GET",this.src,!0),n.responseType="moz-chunked-arraybuffer",n.onreadystatechange=this.onReadyStateChange.bind(this),n.onprogress=this.onProgress.bind(this),n.onload=this.onLoadEnd.bind(this),n.onerror=this.onXhrError.bind(this),!this.config.isLive){var r=e||{from:0,to:-1};this.range.from=r.from,this.range.to=r.to,t&&(this.needSeek=!0,this.keyframePoint=t);var i=(0,u.default)(r).headers;for(var o in i)n.setRequestHeader(o,i[o])}n.send()}},{key:"pause",value:function(){this.abort()}},{key:"abort",value:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr.abort(),this.xhr=null)}},{key:"destroy",value:function(){this.xhr&&(this.abort(),this.xhr.onreadystatechange=null,this.xhr.onprogress=null,this.xhr.onload=null,this.xhr.onerror=null,this.xhr=null),this.totalLength=null,this.bytesStart=null,this.range={}}},{key:"onReadyStateChange",value:function(e){var t=this.xhr;if(2===t.readyState&&t.status<200&&t.status>299){var n={from:this.range.from,to:this.range.to,url:this.src,msg:"http Error: http code "+t.status};this.emit(this.tag,n)}}},{key:"onProgress",value:function(e){this.totalLength||(this.totalLength=e.total,null!==e.total&&0!==e.total&&(this.totalLength=e.total));var t=e.target.response;this.needSeek?(this.needSeek=!1,this.arrivalDataCallback(t,this.bytesStart,this.keyframePoint)):this.arrivalDataCallback(t,this.bytesStart),this.bytesStart+=t.byteLength}},{key:"onLoadEnd",value:function(e){this.emit(this.tag,"video load end")}},{key:"onXhrError",value:function(e){var t={from:this.range.from,to:this.range.to,url:this.src,msg:e.constructor.name+" "+e.type};this.emit(this.tag,t)}}]),t}(c.CustEvent);t.default=f},function(e,t,n){function r(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var r=t(t.s=ENTRY_MODULE);return r.default||r}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e,t,r){var o={};o[r]=[];var a=t.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var f,l=s[1],d=new RegExp("(\\\\n|\\W)"+i(l)+c,"g");f=d.exec(a);)"dll-reference"!==f[3]&&o[r].push(f[3]);for(d=new RegExp("\\("+i(l)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+c,"g");f=d.exec(a);)e[f[2]]||(o[r].push(f[1]),e[f[2]]=n(f[1]).m),o[f[2]]=o[f[2]]||[],o[f[2]].push(f[4]);return o}function a(e){return Object.keys(e).reduce(function(t,n){return t||e[n].length>0},!1)}function s(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};a(n);)for(var s=Object.keys(n),u=0;u<s.length;u++){var c=s[u],f=n[c],l=f.pop();if(i[c]=i[c]||{},!i[c][l]&&e[c][l]){i[c][l]=!0,r[c]=r[c]||[],r[c].push(l);for(var d=o(e,e[c][l],c),h=Object.keys(d),p=0;p<h.length;p++)n[h[p]]=n[h[p]]||[],n[h[p]]=n[h[p]].concat(d[h[p]])}}return r}var u="[\\.|\\-|\\+|\\w|/|@]+",c="\\((/\\*.*?\\*/)?s?.*?("+u+").*?\\)";e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i)}:s(i,e),a="";Object.keys(o).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map(function(t){return JSON.stringify(t)+": "+i[e][t].toString()}).join(",")+"});\n"}),a=a+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map(function(e){return JSON.stringify(e)+": "+i.main[e].toString()}).join(",")+"})(self);";var u=new window.Blob([a],{type:"text/javascript"});if(t.bare)return u;var c=window.URL||window.webkitURL||window.mozURL||window.msURL,f=c.createObjectURL(u),l=new window.Worker(f);return l.objectURL=f,l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){d=new o.default,d.onInitSegment=n,d.onMediaSegment=r,d.onError=i,d.onMediaInfo=a,d.on("error",function(e){self.postMessage({cmd:"error",source:e.data})})}function n(e,t){self.postMessage({cmd:"mediaSegmentInit",source:{type:"video",data:e}}),t&&self.postMessage({cmd:"mediaSegmentInit",source:{type:"audio",data:t}})}function r(e,t){self.postMessage({cmd:"mediaSegment",source:{type:e,data:t}})}function i(e){self.postMessage({cmd:"error",source:e})}function a(e){self.postMessage({cmd:"mediainfo",source:e})}function u(e){h.pause(),h=new s.default(p),h.arrivalDataCallback=l,h.seek(e.keyframePoint,!1,e.keyframetime)}function c(){h.pause(),h=new s.default(p),h.arrivalDataCallback=l,h.open()}function f(){h.destroy(),h=null,d=null}function l(e,n,r){return d||t(),r&&d.seek(r),d.setflv(e)}var d=null,h=null,p={};e.addEventListener("message",function(e){switch(e.data.cmd){case"init":p=e.data.data;break;case"loadSource":h=new s.default(p),h.arrivalDataCallback=l,h.open();break;case"pause":h.pause();break;case"seek":u(e.data.keyframe);break;case"resume":h.resume();break;case"refresh":c();break;case"destroy":f()}})};var i=n(4),o=r(i),a=n(2),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isLive:!1,box:"flv",seekInKeyframe:!0,alwaysSeekKeyframe:!0,lazyLoadMaxDuration:120,lazyLoadRecoverDuration:30,lockInternalProperty:!1,debug:!0,webWorker:!1,autoCleanupSourceBuffer:!0,autoCleanupMaxBackwardDuration:30,autoCleanupMinBackwardDuration:30,stashSize:393216,seekType:"range"}},function(e,t,n){(function(e){!function(e,n){n(t)}(0,function(t){"use strict";function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(e){return void 0!==e}function o(e){return void 0===e||null===e}function a(e){return Array.isArray(e)}function s(e){return"function"==typeof e}function u(e){return Object(e)===e&&"[object Object]"===String(e)&&!s(e)&&!a(e)}function c(e){return"number"==typeof e}function f(e){return!a(e)&&e-Hr(e)+1>=0}function l(e){return jr(e)}function d(e){return a(e)?0===e.length:u(e)?0===Or(e).length:!e}function h(e){return e instanceof Event||(e&&e.originalEvent)instanceof Event}function p(e){return e instanceof Blob}function v(e){return p(e)&&m(e.name)}function y(e){return"[object Date]"===Object.prototype.toString.call(e)}function m(e){return"string"==typeof e||e instanceof String}function g(e){return"boolean"==typeof e}function b(e){return!!e&&("object"===(void 0===e?"undefined":wr(e))||"function"==typeof e)&&"function"==typeof e.then}function _(e){return o(e)||g(e)||m(e)||c(e)}function w(e){return m(e)&&!!e.match(/^((https?|ftp|rtsp|mms):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)}function S(e){return!!("object"===("undefined"==typeof Node?"undefined":wr(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":wr(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}function k(e){return!!("object"===("undefined"==typeof HTMLElement?"undefined":wr(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":wr(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)}function O(e,t){return!(!S(e)||!S(t))&&t.parentNode===e}function E(e,t){if(!S(e)||!S(t))return!1;for(;t.parentNode;)if((t=t.parentNode)===e)return!0;return!1}function x(e){return/<[^>]+?>/.test(e)}function A(e){return e instanceof Error}function M(e){return e instanceof RegExp}function j(e){function t(n,r,i){if(a(n)||u(n)){r=_(r)?u(n)?{}:[]:r;for(var o in n)r[o]=t(n[o],r[o],o);return r}return e(n,r,i)}return t}function T(e){if(_(e))throw new TypeError("deepClone only accept non primitive type");return Kr(e)}function L(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)throw new Error("deepAssign accept two and more argument");for(var r=t.length-1;r>-1;r--)if(_(t[r]))throw new TypeError("deepAssign only accept non primitive type");var i=t.shift();return t.forEach(function(e){return Kr(e,i)}),i}function P(e,t){return e.replace(/(^|[^a-zA-Z]+)([a-zA-Z])/g,function(e,n,r,i){return t||0!==i?r.toUpperCase():r.toLowerCase()})}function C(e){return P(e).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function B(e,t){return e.bind?e.bind(t):e.apply?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(t,r)}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.call.apply(e,[t].concat(un(r)))}}function R(){return D()+D()+"-"+D()+"-"+D()+"-"+D()+"-"+D()+D()+D()}function D(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function I(e){for(var t="";t.length<e;)t+=D();return t.slice(0,e)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.throwError,i=void 0!==r&&r,s=n.backup;if(m(t)&&(t=t.split(".")),!a(t))throw new TypeError("keys of getDeepProperty must be string or Array<string>");for(var u=[],c=e,f=0,l=t.length;f<l;f++){var d=t[f];if(o(c)){if(i)throw new Error("obj"+(u.length>0?"."+u.join("."):" itself")+" is "+c);return s}c=c[d],u.push(d)}return c}function U(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Pe(t),this.reject=Pe(n)}function F(e){return an(e)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return+e-+t};return Or(e).sort(t).reduce(function(t,n){return t.concat(e[n])},[])}function V(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new zi(function(t,r){!function i(o){if(o>=e.length)return void t();var a=s(e[o])?e[o].apply(e,un(n)):e[o];return!1===a?r("stop"):zi.resolve(a).then(function(){return i(o+1)}).catch(function(e){return r(e||"stop")})}(0)})}function G(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function t(r){return r>=e.length||!1!==(s(e[r])?e[r].apply(e,un(n)):e[r])&&t(++r)}(0)}function q(e,t,n){var r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}function W(e){for(var t=[],n=e,r=0,i=e.length;r<i;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(q(n,r,1)){var o=(31&n[r])<<6|63&n[r+1];if(o>=128){t.push(String.fromCharCode(65535&o)),r+=2;continue}}}else if(n[r]<240){if(q(n,r,2)){var a=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2];if(a>=2048&&55296!=(63488&a)){t.push(String.fromCharCode(65535&a)),r+=3;continue}}}else if(n[r]<248&&q(n,r,3)){var s=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3];if(s>65536&&s<1114112){s-=65536,t.push(String.fromCharCode(s>>>10|55296)),t.push(String.fromCharCode(1023&s|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")}function H(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=function u(){var c=new Date-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=new Date;var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}}function K(e,t,n,r){var i=void 0,o=void 0,a=void 0,s=null,u=0;n||(n={});var c=function(){u=!1===n.leading?0:new Date-0,s=null,a=e.apply(i,o),s||(i=o=null)};return t=t||0,function(){var f=new Date;u||!1!==n.leading||(u=f);var l=t-(f-u);return i=r||this,o=arguments,l<=0||l>t?(s&&(clearTimeout(s),s=null),u=f,a=e.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(c,l)),a}}function J(e,t){var n=t;e=""+(e||"");var r=e.length;return t=(t||r)-r,((t>0?e.repeat?"0".repeat(t):new Array(t+1).join("0"):"")+e).slice(0,n)}function X(e){var t=Math.floor(e/3600);e=Math.floor(e%3600);var n=J(Math.floor(e/60),2);e=Math.floor(e%60);var r=J(e,2);return t>=1?t+":"+n+":"+r:n+":"+r}function Y(e){var t=document,n=t.querySelector("style");if(!n){n=t.createElement("style");var r=t.querySelector("head");r&&r.appendChild(n)}return n.appendChild(t.createTextNode(e)),n}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss.i",n=e.getFullYear().toString(),r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),i:e.getMilliseconds()};t=t.replace(/(y+)/gi,function(e,t){return n.substr(4-Math.min(4,t.length))});for(var i in r)!function(e){t=t.replace(new RegExp("("+e+"+)","g"),function(t,n){return(r[e]<10&&n.length>1?"0":"")+r[e]})}(i);return t}function Q(e){try{return window.localStorage.getItem(e)}catch(n){try{var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return a(t)?unescape(t[2]):""}catch(e){return""}}}function Z(e,t){try{window.localStorage.setItem(e,t)}catch(r){var n=new Date;n.setTime(n.getTime()+2592e7);try{document.cookie=e+"="+escape(t)+";expires="+n.toUTCString()+";path=/;"}catch(e){}}}function ee(e,t){var n=e.__evt_id;n||(Object.defineProperty(e,"__evt_id",{writable:!0,enumerable:!1,configurable:!0}),n=e.__evt_id=++so.count);var r=n+"_"+t,i=so[r];return i||(i=so[r]=[]),i}function te(e,t,n){var r=ao(null);r.type=t,r.target=e,n&&no(r,u(n)?n:{data:n}),ee(e,t).forEach(function(t){(t[1]||t[0]).apply(e,[r])})}function ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments[4];s(r)&&!i&&(i=r,r=void 0);var o=[n,void 0,r];r&&!i&&(i=function(){re(e,t,n,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];n.apply(e,o)}),i&&(o[1]=i),ee(e,t).push(o)}function re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=ee(e,t);if(n||r){var o=-1,a=void 0;return i.find(function(e,t){if((!n||e[0]===n)&&(!r||e[2]))return o=t,a=e[1],!0}),-1!==o&&i.splice(o,1),a}i.length=0}function ie(e,t){var n=e.__evt_id;n||(Object.defineProperty(e,"__evt_id",{writable:!0,enumerable:!1,configurable:!0}),n=e.__evt_id=++co.count);var r=n+"_"+t,i=co[r];return i||(i=co[r]=[]),i}function oe(e,t,n){var r=ao(null);r.type=t,r.target=e,n&&no(r,u(n)?n:{data:n}),ie(e,t).forEach(function(t){(t[1]||t[0]).apply(e,[r])})}function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments[4];s(r)&&!i&&(i=r,r=void 0);var o=[n,void 0,r];r&&!i&&(i=function(){se(e,t,n,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];n.apply(e,o)}),i&&(o[1]=i),ie(e,t).push(o)}function se(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=ie(e,t);if(n||r){var o=-1,a=void 0;return i.find(function(e,t){if((!n||e[0]===n)&&(!r||e[2]))return o=t,a=e[1],!0}),-1!==o&&i.splice(o,1),a}i.length=0}function ue(e){return an(e)}function ce(e,t){return e.getAttribute(t)}function fe(e,t,n){void 0===n?e.removeAttribute(t):e.setAttribute(t,n)}function le(e,t){if(t&&(t=t.trim())){var n=t.split(/\s+/);if(e.classList)n.forEach(function(t){return e.classList.add(t)});else{var r=" "+(e.className||"")+" ";n.forEach(function(e){-1===r.indexOf(" "+e+" ")&&(r+=" "+e)}),e.className=r.trim()}}}function de(e,t){if(t&&(t=t.trim())){var n=t.split(/\s+/);if(e.classList)n.forEach(function(t){return e.classList.remove(t)});else{var r=" "+e.className+" ";n.forEach(function(e){for(var t=" "+e+" ";-1!==r.indexOf(t);)r=r.replace(t," ")}),e.className=r.trim()}}}function he(e,t){return new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e.className)}function pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(r){var o=se(e,t+"_once",n);o&&(n=o)}e.removeEventListener(t,n,i)}function ve(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(r){var o=n;n=function(){return function(){for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];o.apply(this,s),pe(e,t,n,r,i)}}(),ae(e,t+"_once",o,n)}e.addEventListener(t,n,i)}function ye(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(n){var i=Se(n.target||n.srcElement,e,!0),o=_e(t,e,!0),a=void 0;o.find?a=o.find(function(e){return i.find(function(t){return e===t})}):o.forEach(function(e){return!a&&i.forEach(function(t){a||e!==t||(a=t)})}),a&&r.apply(a,arguments)};ae(e,n+"_delegate_"+t,r,o),e.addEventListener(n,o,i)}function me(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=se(e,n+"_delegate_"+t,r);o&&e.removeEventListener(n,o,i)}function ge(e,t){return(e.currentStyle||document.defaultView.getComputedStyle(e,null))[t]||e.style[t]}function be(e,t,n){if(u(t))for(var r in t)be(e,r,t[r]);else e.style[t]=n}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments[2],r=t.querySelectorAll(e);return n?an(r):r}function we(e){e.parentNode.removeChild(e)}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],r=arguments[3],i=[];for(n&&i.push(e);e&&e.parentNode!==t;)(e=e.parentNode)&&i.push(e);return r&&i.push(t),i}function ke(e,t){return e.constructor===po?e:new po(e,t)}function Oe(e,t){if(!m(e))throw new TypeError("Log's method only acccept string as argument, but not "+e+" in "+(void 0===e?"undefined":wr(e)));return m(t)?"["+(e=vo.FORCE_GLOBAL_TAG?vo.GLOBAL_TAG:e||vo.GLOBAL_TAG)+"] > "+t:"["+vo.GLOBAL_TAG+"] > "+e}var Ee="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},xe=Math.ceil,Ae=Math.floor,Me=function(e){return isNaN(e=+e)?0:(e>0?Ae:xe)(e)},je=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},Te=r(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),Le=r(function(e){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)}),Pe=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},Ce=function(e,t,n){if(Pe(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Be=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Re=function(e){if(!Be(e))throw TypeError(e+" is not an object!");return e},De=function(e){try{return!!e()}catch(e){return!0}},Ie=!De(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Ne=Te.document,Ue=Be(Ne)&&Be(Ne.createElement),Fe=function(e){return Ue?Ne.createElement(e):{}},ze=!Ie&&!De(function(){return 7!=Object.defineProperty(Fe("div"),"a",{get:function(){return 7}}).a}),Ve=function(e,t){if(!Be(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Be(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Be(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Be(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Ge=Object.defineProperty,qe=Ie?Object.defineProperty:function(e,t,n){if(Re(e),t=Ve(t,!0),Re(n),ze)try{return Ge(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},We={f:qe},He=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ke=Ie?function(e,t,n){return We.f(e,t,He(1,n))}:function(e,t,n){return e[t]=n,e},Je=function(e,t,n){var r,i,o,a=e&Je.F,s=e&Je.G,u=e&Je.S,c=e&Je.P,f=e&Je.B,l=e&Je.W,d=s?Le:Le[t]||(Le[t]={}),h=d.prototype,p=s?Te:u?Te[t]:(Te[t]||{}).prototype;s&&(n=t);for(r in n)(i=!a&&p&&void 0!==p[r])&&r in d||(o=i?p[r]:n[r],d[r]=s&&"function"!=typeof p[r]?n[r]:f&&i?Ce(o,Te):l&&p[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):c&&"function"==typeof o?Ce(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[r]=o,e&Je.R&&h&&!h[r]&&Ke(h,r,o)))};Je.F=1,Je.G=2,Je.S=4,Je.P=8,Je.B=16,Je.W=32,Je.U=64,Je.R=128;var Xe=Je,Ye=Ke,$e={}.hasOwnProperty,Qe=function(e,t){return $e.call(e,t)},Ze={},et={}.toString,tt=function(e){return et.call(e).slice(8,-1)},nt=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==tt(e)?e.split(""):Object(e)},rt=function(e){return nt(je(e))},it=Math.min,ot=function(e){return e>0?it(Me(e),9007199254740991):0},at=Math.max,st=Math.min,ut=function(e,t){return e=Me(e),e<0?at(e+t,0):st(e,t)},ct=Te["__core-js_shared__"]||(Te["__core-js_shared__"]={}),ft=function(e){return ct[e]||(ct[e]={})},lt=0,dt=Math.random(),ht=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++lt+dt).toString(36))},pt=ft("keys"),vt=function(e){return pt[e]||(pt[e]=ht(e))},yt=function(e){return function(t,n,r){var i,o=rt(t),a=ot(o.length),s=ut(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}}(!1),mt=vt("IE_PROTO"),gt=function(e,t){var n,r=rt(e),i=0,o=[];for(n in r)n!=mt&&Qe(r,n)&&o.push(n);for(;t.length>i;)Qe(r,n=t[i++])&&(~yt(o,n)||o.push(n));return o},bt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_t=Object.keys||function(e){return gt(e,bt)},wt=Ie?Object.defineProperties:function(e,t){Re(e);for(var n,r=_t(t),i=r.length,o=0;i>o;)We.f(e,n=r[o++],t[n]);return e},St=Te.document,kt=St&&St.documentElement,Ot=vt("IE_PROTO"),Et=function(){},xt=function(){var e,t=Fe("iframe"),n=bt.length;for(t.style.display="none",kt.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),xt=e.F;n--;)delete xt.prototype[bt[n]];return xt()},At=Object.create||function(e,t){var n;return null!==e?(Et.prototype=Re(e),n=new Et,Et.prototype=null,n[Ot]=e):n=xt(),void 0===t?n:wt(n,t)},Mt=r(function(e){var t=ft("wks"),n=Te.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:ht)("Symbol."+e))}).store=t}),jt=We.f,Tt=Mt("toStringTag"),Lt=function(e,t,n){e&&!Qe(e=n?e:e.prototype,Tt)&&jt(e,Tt,{configurable:!0,value:t})},Pt={};Ke(Pt,Mt("iterator"),function(){return this});var Ct=function(e,t,n){e.prototype=At(Pt,{next:He(1,n)}),Lt(e,t+" Iterator")},Bt=function(e){return Object(je(e))},Rt=vt("IE_PROTO"),Dt=Object.prototype,It=Object.getPrototypeOf||function(e){return e=Bt(e),Qe(e,Rt)?e[Rt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Dt:null},Nt=Mt("iterator"),Ut=!([].keys&&"next"in[].keys()),Ft=function(){return this},zt=function(e,t,n,r,i,o,a){Ct(n,t,r);var s,u,c,f=function(e){if(!Ut&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},l=t+" Iterator",d="values"==i,h=!1,p=e.prototype,v=p[Nt]||p["@@iterator"]||i&&p[i],y=v||f(i),m=i?d?f("entries"):y:void 0,g="Array"==t?p.entries||v:v;if(g&&(c=It(g.call(new e)))!==Object.prototype&&c.next&&Lt(c,l,!0),d&&v&&"values"!==v.name&&(h=!0,y=function(){return v.call(this)}),a&&(Ut||h||!p[Nt])&&Ke(p,Nt,y),Ze[t]=y,Ze[l]=Ft,i)if(s={values:d?y:f("values"),keys:o?y:f("keys"),entries:m},a)for(u in s)u in p||Ye(p,u,s[u]);else Xe(Xe.P+Xe.F*(Ut||h),t,s);return s},Vt=function(e){return function(t,n){var r,i,o=String(je(t)),a=Me(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536)}}(!0);zt(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Vt(t,n),this._i+=e.length,{value:e,done:!1})});var Gt=function(e,t,n,r){try{return r?t(Re(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&Re(i.call(e)),t}},qt=Mt("iterator"),Wt=Array.prototype,Ht=function(e){return void 0!==e&&(Ze.Array===e||Wt[qt]===e)},Kt=function(e,t,n){t in e?We.f(e,t,He(0,n)):e[t]=n},Jt=Mt("toStringTag"),Xt="Arguments"==tt(function(){return arguments}()),Yt=function(e,t){try{return e[t]}catch(e){}},$t=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=Yt(t=Object(e),Jt))?n:Xt?tt(t):"Object"==(r=tt(t))&&"function"==typeof t.callee?"Arguments":r},Qt=Mt("iterator"),Zt=Le.getIteratorMethod=function(e){if(void 0!=e)return e[Qt]||e["@@iterator"]||Ze[$t(e)]},en=Mt("iterator"),tn=!1;try{[7][en]().return=function(){tn=!0}}catch(e){}var nn=function(e,t){if(!t&&!tn)return!1;var n=!1;try{var r=[7],i=r[en]();i.next=function(){return{done:n=!0}},r[en]=function(){return i},e(r)}catch(e){}return n};Xe(Xe.S+Xe.F*!nn(function(e){}),"Array",{from:function(e){var t,n,r,i,o=Bt(e),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,f=0,l=Zt(o);if(c&&(u=Ce(u,s>2?arguments[2]:void 0,2)),void 0==l||a==Array&&Ht(l))for(t=ot(o.length),n=new a(t);t>f;f++)Kt(n,f,c?u(o[f],f):o[f]);else for(i=l.call(o),n=new a;!(r=i.next()).done;f++)Kt(n,f,c?Gt(i,u,[r.value,f],!0):r.value);return n.length=f,n}});var rn=Le.Array.from,on=r(function(e){e.exports={default:rn,__esModule:!0}}),an=n(on),sn=r(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(on);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,n.default)(e)}}),un=n(sn),cn=function(e,t){return{value:t,done:!!e}};zt(Array,"Array",function(e,t){this._t=rt(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,cn(1)):"keys"==t?cn(0,n):"values"==t?cn(0,e[n]):cn(0,[n,e[n]])},"values");Ze.Arguments=Ze.Array;for(var fn=Mt("toStringTag"),ln="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),dn=0;dn<ln.length;dn++){var hn=ln[dn],pn=Te[hn],vn=pn&&pn.prototype;vn&&!vn[fn]&&Ke(vn,fn,hn),Ze[hn]=Ze.Array}var yn=Mt,mn={f:yn},gn=mn.f("iterator"),bn=r(function(e){e.exports={default:gn,__esModule:!0}});n(bn);var _n=r(function(e){var t=ht("meta"),n=We.f,r=0,i=Object.isExtensible||function(){return!0},o=!De(function(){return i(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=function(e,n){if(!Be(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Qe(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},u=function(e,n){if(!Qe(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},c=function(e){return o&&f.NEED&&i(e)&&!Qe(e,t)&&a(e),e},f=e.exports={KEY:t,NEED:!1,fastKey:s,getWeak:u,onFreeze:c}}),wn=We.f,Sn=function(e){var t=Le.Symbol||(Le.Symbol={});"_"==e.charAt(0)||e in t||wn(t,e,{value:mn.f(e)})},kn=Object.getOwnPropertySymbols,On={f:kn},En={}.propertyIsEnumerable,xn={f:En},An=function(e){var t=_t(e),n=On.f;if(n)for(var r,i=n(e),o=xn.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t},Mn=Array.isArray||function(e){return"Array"==tt(e)},jn=bt.concat("length","prototype"),Tn=Object.getOwnPropertyNames||function(e){return gt(e,jn)},Ln={f:Tn},Pn=Ln.f,Cn={}.toString,Bn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Rn=function(e){try{return Pn(e)}catch(e){return Bn.slice()}},Dn=function(e){return Bn&&"[object Window]"==Cn.call(e)?Rn(e):Pn(rt(e))},In={f:Dn},Nn=Object.getOwnPropertyDescriptor,Un=Ie?Nn:function(e,t){if(e=rt(e),t=Ve(t,!0),ze)try{return Nn(e,t)}catch(e){}if(Qe(e,t))return He(!xn.f.call(e,t),e[t])},Fn={f:Un},zn=_n.KEY,Vn=Fn.f,Gn=We.f,qn=In.f,Wn=Te.Symbol,Hn=Te.JSON,Kn=Hn&&Hn.stringify,Jn=Mt("_hidden"),Xn=Mt("toPrimitive"),Yn={}.propertyIsEnumerable,$n=ft("symbol-registry"),Qn=ft("symbols"),Zn=ft("op-symbols"),er=Object.prototype,tr="function"==typeof Wn,nr=Te.QObject,rr=!nr||!nr.prototype||!nr.prototype.findChild,ir=Ie&&De(function(){return 7!=At(Gn({},"a",{get:function(){return Gn(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Vn(er,t);r&&delete er[t],Gn(e,t,n),r&&e!==er&&Gn(er,t,r)}:Gn,or=function(e){var t=Qn[e]=At(Wn.prototype);return t._k=e,t},ar=tr&&"symbol"==typeof Wn.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Wn},sr=function(e,t,n){return e===er&&sr(Zn,t,n),Re(e),t=Ve(t,!0),Re(n),Qe(Qn,t)?(n.enumerable?(Qe(e,Jn)&&e[Jn][t]&&(e[Jn][t]=!1),n=At(n,{enumerable:He(0,!1)})):(Qe(e,Jn)||Gn(e,Jn,He(1,{})),e[Jn][t]=!0),ir(e,t,n)):Gn(e,t,n)},ur=function(e,t){Re(e);for(var n,r=An(t=rt(t)),i=0,o=r.length;o>i;)sr(e,n=r[i++],t[n]);return e},cr=function(e,t){return void 0===t?At(e):ur(At(e),t)},fr=function(e){var t=Yn.call(this,e=Ve(e,!0));return!(this===er&&Qe(Qn,e)&&!Qe(Zn,e))&&(!(t||!Qe(this,e)||!Qe(Qn,e)||Qe(this,Jn)&&this[Jn][e])||t)},lr=function(e,t){if(e=rt(e),t=Ve(t,!0),e!==er||!Qe(Qn,t)||Qe(Zn,t)){var n=Vn(e,t);return!n||!Qe(Qn,t)||Qe(e,Jn)&&e[Jn][t]||(n.enumerable=!0),n}},dr=function(e){for(var t,n=qn(rt(e)),r=[],i=0;n.length>i;)Qe(Qn,t=n[i++])||t==Jn||t==zn||r.push(t);return r},hr=function(e){for(var t,n=e===er,r=qn(n?Zn:rt(e)),i=[],o=0;r.length>o;)!Qe(Qn,t=r[o++])||n&&!Qe(er,t)||i.push(Qn[t]);return i};tr||(Wn=function(){if(this instanceof Wn)throw TypeError("Symbol is not a constructor!");var e=ht(arguments.length>0?arguments[0]:void 0),t=function(n){this===er&&t.call(Zn,n),Qe(this,Jn)&&Qe(this[Jn],e)&&(this[Jn][e]=!1),ir(this,e,He(1,n))};return Ie&&rr&&ir(er,e,{configurable:!0,set:t}),or(e)},Ye(Wn.prototype,"toString",function(){return this._k}),Fn.f=lr,We.f=sr,Ln.f=In.f=dr,xn.f=fr,On.f=hr,mn.f=function(e){return or(Mt(e))}),Xe(Xe.G+Xe.W+Xe.F*!tr,{Symbol:Wn});for(var pr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),vr=0;pr.length>vr;)Mt(pr[vr++]);for(var yr=_t(Mt.store),mr=0;yr.length>mr;)Sn(yr[mr++]);Xe(Xe.S+Xe.F*!tr,"Symbol",{for:function(e){return Qe($n,e+="")?$n[e]:$n[e]=Wn(e)},keyFor:function(e){if(!ar(e))throw TypeError(e+" is not a symbol!");for(var t in $n)if($n[t]===e)return t},useSetter:function(){rr=!0},useSimple:function(){rr=!1}}),Xe(Xe.S+Xe.F*!tr,"Object",{create:cr,defineProperty:sr,defineProperties:ur,getOwnPropertyDescriptor:lr,getOwnPropertyNames:dr,getOwnPropertySymbols:hr}),Hn&&Xe(Xe.S+Xe.F*(!tr||De(function(){var e=Wn();return"[null]"!=Kn([e])||"{}"!=Kn({a:e})||"{}"!=Kn(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!ar(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&Mn(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!ar(t))return t}),r[1]=t,Kn.apply(Hn,r)}}}),Wn.prototype[Xn]||Ke(Wn.prototype,Xn,Wn.prototype.valueOf),Lt(Wn,"Symbol"),Lt(Math,"Math",!0),Lt(Te.JSON,"JSON",!0),Sn("asyncIterator"),Sn("observable");var gr=Le.Symbol,br=r(function(e){e.exports={default:gr,__esModule:!0}});n(br);var _r=r(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(bn),i=n(br),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}}),wr=n(_r);!function(e,t){var n=(Le.Object||{})[e]||Object[e],r={};r[e]=t(n),Xe(Xe.S+Xe.F*De(function(){n(1)}),"Object",r)}("keys",function(){return function(e){return _t(Bt(e))}});var Sr=Le.Object.keys,kr=r(function(e){e.exports={default:Sr,__esModule:!0}}),Or=n(kr),Er=Math.floor,xr=function(e){return!Be(e)&&isFinite(e)&&Er(e)===e};Xe(Xe.S,"Number",{isInteger:xr});var Ar=Le.Number.isInteger,Mr=r(function(e){e.exports={default:Ar,__esModule:!0}}),jr=n(Mr),Tr="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Lr="["+Tr+"]",Pr="​",Cr=RegExp("^"+Lr+Lr+"*"),Br=RegExp(Lr+Lr+"*$"),Rr=function(e,t,n){var r={},i=De(function(){return!!Tr[e]()||Pr[e]()!=Pr}),o=r[e]=i?t(Dr):Tr[e];n&&(r[n]=o),Xe(Xe.P+Xe.F*i,"String",r)},Dr=Rr.trim=function(e,t){return e=String(je(e)),1&t&&(e=e.replace(Cr,"")),2&t&&(e=e.replace(Br,"")),e},Ir=Rr,Nr=Te.parseFloat,Ur=Ir.trim,Fr=1/Nr(Tr+"-0")!=-1/0?function(e){var t=Ur(String(e),3),n=Nr(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Nr;Xe(Xe.S+Xe.F*(Number.parseFloat!=Fr),"Number",{parseFloat:Fr});var zr,Vr,Gr,qr=parseFloat,Wr=r(function(e){e.exports={default:qr,__esModule:!0}}),Hr=n(Wr),Kr=j(function(e){return e}),Jr=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e},Xr=r(function(e){var t={},n={},r=e.exports=function(e,r,i,o,a){var s,u,c,f,l=a?function(){return e}:Zt(e),d=Ce(i,o,r?2:1),h=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(Ht(l)){for(s=ot(e.length);s>h;h++)if((f=r?d(Re(u=e[h])[0],u[1]):d(e[h]))===t||f===n)return f}else for(c=l.call(e);!(u=c.next()).done;)if((f=Gt(c,d,u.value,r))===t||f===n)return f};r.BREAK=t,r.RETURN=n}),Yr=Mt("species"),$r=function(e,t){var n,r=Re(e).constructor;return void 0===r||void 0==(n=Re(r)[Yr])?t:Pe(n)},Qr=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},Zr=Te.process,ei=Te.setImmediate,ti=Te.clearImmediate,ni=Te.MessageChannel,ri=Te.Dispatch,ii=0,oi={},ai=function(){var e=+this;if(oi.hasOwnProperty(e)){var t=oi[e];delete oi[e],t()}},si=function(e){ai.call(e.data)};ei&&ti||(ei=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return oi[++ii]=function(){Qr("function"==typeof e?e:Function(e),t)},zr(ii),ii},ti=function(e){delete oi[e]},"process"==tt(Zr)?zr=function(e){Zr.nextTick(Ce(ai,e,1))}:ri&&ri.now?zr=function(e){ri.now(Ce(ai,e,1))}:ni?(Vr=new ni,Gr=Vr.port2,Vr.port1.onmessage=si,zr=Ce(Gr.postMessage,Gr,1)):Te.addEventListener&&"function"==typeof postMessage&&!Te.importScripts?(zr=function(e){Te.postMessage(e+"","*")},Te.addEventListener("message",si,!1)):zr="onreadystatechange"in Fe("script")?function(e){kt.appendChild(Fe("script")).onreadystatechange=function(){kt.removeChild(this),ai.call(e)}}:function(e){setTimeout(Ce(ai,e,1),0)});var ui,ci,fi,li,di={set:ei,clear:ti},hi=di.set,pi=Te.MutationObserver||Te.WebKitMutationObserver,vi=Te.process,yi=Te.Promise,mi="process"==tt(vi),gi=function(e){return new U(e)},bi={f:gi},_i=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},wi=function(e,t){if(Re(e),Be(t)&&t.constructor===e)return t;var n=bi.f(e);return(0,n.resolve)(t),n.promise},Si=Mt("species"),ki=di.set,Oi=function(){var e,t,n,r=function(){var r,i;for(mi&&(r=vi.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(mi)n=function(){vi.nextTick(r)};else if(pi){var i=!0,o=document.createTextNode("");new pi(r).observe(o,{characterData:!0}),n=function(){o.data=i=!i}}else if(yi&&yi.resolve){var a=yi.resolve();n=function(){a.then(r)}}else n=function(){hi.call(Te,r)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}(),Ei=Te.TypeError,xi=Te.process,Ai=Te.Promise,Mi="process"==$t(xi),ji=function(){},Ti=ci=bi.f,Li=!!function(){try{var e=Ai.resolve(1),t=(e.constructor={})[Mt("species")]=function(e){e(ji,ji)};return(Mi||"function"==typeof PromiseRejectionEvent)&&e.then(ji)instanceof t}catch(e){}}(),Pi=function(e){var t;return!(!Be(e)||"function"!=typeof(t=e.then))&&t},Ci=function(e,t){if(!e._n){e._n=!0;var n=e._c;Oi(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&Di(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(Ei("Promise-chain cycle")):(o=Pi(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&Bi(e)})}},Bi=function(e){ki.call(Te,function(){var t,n,r,i=e._v,o=Ri(e);if(o&&(t=_i(function(){Mi?xi.emit("unhandledRejection",i,e):(n=Te.onunhandledrejection)?n({promise:e,reason:i}):(r=Te.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=Mi||Ri(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},Ri=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!Ri(t.promise))return!1;return!0},Di=function(e){ki.call(Te,function(){var t;Mi?xi.emit("rejectionHandled",e):(t=Te.onrejectionhandled)&&t({promise:e,reason:e._v})})},Ii=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),Ci(t,!0))},Ni=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw Ei("Promise can't be resolved itself");(t=Pi(e))?Oi(function(){var r={_w:n,_d:!1};try{t.call(e,Ce(Ni,r,1),Ce(Ii,r,1))}catch(e){Ii.call(r,e)}}):(n._v=e,n._s=1,Ci(n,!1))}catch(e){Ii.call({_w:n,_d:!1},e)}}};Li||(Ai=function(e){Jr(this,Ai,"Promise","_h"),Pe(e),ui.call(this);try{e(Ce(Ni,this,1),Ce(Ii,this,1))}catch(e){Ii.call(this,e)}},ui=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},ui.prototype=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:Ke(e,r,t[r]);return e}(Ai.prototype,{then:function(e,t){var n=Ti($r(this,Ai));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=Mi?xi.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Ci(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),fi=function(){var e=new ui;this.promise=e,this.resolve=Ce(Ni,e,1),this.reject=Ce(Ii,e,1)},bi.f=Ti=function(e){return e===Ai||e===li?new fi(e):ci(e)}),Xe(Xe.G+Xe.W+Xe.F*!Li,{Promise:Ai}),Lt(Ai,"Promise"),function(e){var t="function"==typeof Le[e]?Le[e]:Te[e];Ie&&t&&!t[Si]&&We.f(t,Si,{configurable:!0,get:function(){return this}})}("Promise"),li=Le.Promise,Xe(Xe.S+Xe.F*!Li,"Promise",{reject:function(e){var t=Ti(this);return(0,t.reject)(e),t.promise}}),Xe(Xe.S+!0*Xe.F,"Promise",{resolve:function(e){return wi(this===li?Ai:this,e)}}),Xe(Xe.S+Xe.F*!(Li&&nn(function(e){Ai.all(e).catch(ji)})),"Promise",{all:function(e){var t=this,n=Ti(t),r=n.resolve,i=n.reject,o=_i(function(){var n=[],o=0,a=1;Xr(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=Ti(t),r=n.reject,i=_i(function(){Xr(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}}),Xe(Xe.P+Xe.R,"Promise",{finally:function(e){var t=$r(this,Le.Promise||Te.Promise),n="function"==typeof e;return this.then(n?function(n){return wi(t,e()).then(function(){return n})}:e,n?function(n){return wi(t,e()).then(function(){throw n})}:e)}}),Xe(Xe.S,"Promise",{try:function(e){var t=bi.f(this),n=_i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}});var Ui=Le.Promise,Fi=r(function(e){e.exports={default:Ui,__esModule:!0}}),zi=n(Fi),Vi="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),Gi=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,17)},qi=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(e){clearTimeout(e)},Wi=r(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),Hi=n(Wi);Xe(Xe.S+Xe.F*!Ie,"Object",{defineProperty:We.f});var Ki=Le.Object,Ji=function(e,t,n){return Ki.defineProperty(e,t,n)},Xi=r(function(e){e.exports={default:Ji,__esModule:!0}});n(Xi);var Yi=r(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(Xi);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}),$i=n(Yi),Qi=Object.assign,Zi=!Qi||De(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=Qi({},e)[n]||Object.keys(Qi({},t)).join("")!=r})?function(e,t){for(var n=Bt(e),r=arguments.length,i=1,o=On.f,a=xn.f;r>i;)for(var s,u=nt(arguments[i++]),c=o?_t(u).concat(o(u)):_t(u),f=c.length,l=0;f>l;)a.call(u,s=c[l++])&&(n[s]=u[s]);return n}:Qi;Xe(Xe.S+Xe.F,"Object",{assign:Zi});var eo=Le.Object.assign,to=r(function(e){e.exports={default:eo,__esModule:!0}}),no=n(to);Xe(Xe.S,"Object",{create:At});var ro=Le.Object,io=function(e,t){return ro.create(e,t)},oo=r(function(e){e.exports={default:io,__esModule:!0}}),ao=n(oo),so=ao(null);so.count=0;var uo=function(){function e(t,n){var r=this;if(Hi(this,e),Object.defineProperty(this,"__target",{writable:!0,enumerable:!1,configurable:!0}),this.__target=this,t){if("object"!==(void 0===t?"undefined":wr(t)))throw new Error("CusEvent target are not object");this.__target=t,n&&["on","once","off","emit"].forEach(function(e){t[e]=r[e]})}}return $i(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ne(this.__target,e,t,n),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return re(this.__target,e,t,n),this}},{key:"emit",value:function(e,t){return te(this.__target,e,{data:t}),this}}]),e}(),co=ao(null);co.count=0;var fo=(function(){function e(t,n){var r=this;if(Hi(this,e),Object.defineProperty(this,"__target",{writable:!0,enumerable:!1,configurable:!0}),this.__target=this,t){if("object"!==(void 0===t?"undefined":wr(t)))throw new Error("CusEvent target are not object");this.__target=t,n&&["on","once","off","emit"].forEach(function(e){t[e]=r[e]})}}$i(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ae(this.__target,e,t,n),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return se(this.__target,e,t,n),this}},{key:"emit",value:function(e,t){return oe(this.__target,e,{data:t}),this}}])}(),"undefined"!=typeof window&&Object.prototype.toString.call(window),document.createElement("div")),lo="innerText";"textContent"in fo&&(lo="textContent");var ho=Array.prototype,po=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;Hi(this,e);var r=this;r.selector=t;var i=void 0;t&&t.constructor===NodeList?i=ue(t):a(t)?i=t:m(t)?0===t.indexOf("<")?(fo.innerHTML=t,i=_e("*",fo,!0)):i=_e(t,n,!0):i=[t],no(r,i),r.length=i.length}return $i(e,[{key:"each",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ho.forEach.apply(this,t),this}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ho.push.apply(this,t),this}},{key:"splice",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ke(ho.splice.apply(this,t))}},{key:"find",value:function(e){var t=[];this.each(function(n){t=t.concat(_e(e,n,!0))});var n=ke(t);return n.parent=this,n.selector=e,n}},{key:"append",value:function(e){var t=ke(e),n=this[0];return t.each(function(e){return n.appendChild(e)}),this}},{key:"appendTo",value:function(e){return ke(e).append(this),this}},{key:"text",value:function(e){return 0===arguments.length?this[0][lo]:this.each(function(t){t[lo]=e})}},{key:"html",value:function(e){return 0===arguments.length?this[0].innerHTML:this.each(function(t){t.innerHTML=e})}},{key:"attr",value:function(e,t){return 1===arguments.length?ce(this[0],e):this.each(function(n){return fe(n,e,t)})}},{key:"data",value:function(e,t){return 0===arguments.length?this[0].dataset||{}:1===arguments.length?(this[0].dataset||{})[e]:this.each(function(n){(n.dataset||(n.dataset={}))[e]=t})}},{key:"css",value:function(e,t){return 1!==arguments.length||u(e)?this.each(function(n){return be(n,e,t)}):ge(this[0],e)}},{key:"addClass",value:function(e){return this.each(function(t){return le(t,e)})}},{key:"removeClass",value:function(e){return this.each(function(t){return de(t,e)})}},{key:"hasClass",value:function(e){return he(this[0],e)}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each(function(i){return ve(i,e,t,n,r)})}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each(function(i){return pe(i,e,t,n,r)})}},{key:"delegate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each(function(i){return ye(i,e,t,n,r)})}},{key:"undelegate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each(function(i){return me(i,e,t,n,r)})}},{key:"remove",value:function(){return this.each(function(e){return we(e)})}}]),e}(),vo=function(){function e(){Hi(this,e)}return $i(e,null,[{key:"error",value:function(t,n){e.ENABLE_ERROR&&(console.error||console.warn||console.log)(Oe(t,n))}},{key:"info",value:function(t,n){e.ENABLE_INFO&&(console.info||console.log)(Oe(t,n))}},{key:"warn",value:function(t,n){e.ENABLE_WARN&&(console.warn||console.log)(Oe(t,n))}},{key:"debug",value:function(t,n){e.ENABLE_DEBUG&&(console.debug||console.log)(Oe(t,n))}},{key:"verbose",value:function(t,n){e.ENABLE_VERBOSE&&console.log(Oe(t,n))}}]),e}();vo.GLOBAL_TAG="chimee",vo.FORCE_GLOBAL_TAG=!1,vo.ENABLE_ERROR=!0,vo.ENABLE_INFO=!0,vo.ENABLE_WARN=!0,vo.ENABLE_DEBUG=!0,vo.ENABLE_VERBOSE=!0;var yo=r(function(e,t){!function(n,r){var i="model",o="name",a="type",s="vendor",u="version",c="mobile",f="tablet",l={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(e,t){for(var n,i,o,a,s,u,c=0;c<t.length&&!s;){var f=t[c],l=t[c+1];for(n=i=0;n<f.length&&!s;)if(s=f[n++].exec(e))for(o=0;o<l.length;o++)u=s[++i],a=l[o],"object"==typeof a&&a.length>0?2==a.length?"function"==typeof a[1]?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3==a.length?"function"!=typeof a[1]||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):r:this[a[0]]=u?a[1].call(this,u,a[2]):r:4==a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):r):this[a]=u||r;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(l.has(t[n][i],e))return"?"===n?r:n}else if(l.has(t[n],e))return"?"===n?r:n;return e}},h={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},p={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,u],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[o,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[o,u],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[o,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],u],[/(QQ)\/([\d\.]+)/i],[o,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[o,u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[o,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[o,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[o,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,u],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[o,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,o],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[o,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[u,d.str,h.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",l.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",l.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",l.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,s,[a,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[s,"Apple"],[a,f]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[s,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[s,i,[a,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[i,[s,"Amazon"],[a,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[i,d.str,h.device.amazon.model],[s,"Amazon"],[a,c]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,s,[a,c]],[/\((ip[honed|\s\w*]+);/i],[i,[s,"Apple"],[a,c]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[s,i,[a,c]],[/\(bb10;\s(\w+)/i],[i,[s,"BlackBerry"],[a,c]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[s,"Asus"],[a,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[s,"Sony"],[i,"Xperia Tablet"],[a,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[i,[s,"Sony"],[a,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[s,i,[a,"console"]],[/android.+;\s(shield)\sbuild/i],[i,[s,"Nvidia"],[a,"console"]],[/(playstation\s[34portablevi]+)/i],[i,[s,"Sony"],[a,"console"]],[/(sprint\s(\w+))/i],[[s,d.str,h.device.sprint.vendor],[i,d.str,h.device.sprint.model],[a,c]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[s,i,[a,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[s,[i,/_/g," "],[a,c]],[/(nexus\s9)/i],[i,[s,"HTC"],[a,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[i,[s,"Huawei"],[a,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[s,i,[a,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[s,"Microsoft"],[a,"console"]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[s,"Microsoft"],[a,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[s,"Motorola"],[a,c]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[s,"Motorola"],[a,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s,l.trim],[i,l.trim],[a,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[s,"Samsung"],[a,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[i,[s,"Sharp"],[a,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[s,"Samsung"],i,[a,f]],[/smart-tv.+(samsung)/i],[s,[a,"smarttv"],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[s,"Samsung"],i,[a,c]],[/sie-(\w+)*/i],[i,[s,"Siemens"],[a,c]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[s,"Nokia"],i,[a,c]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[s,"Acer"],[a,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[i,[s,"LG"],[a,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[s,"LG"],i,[a,f]],[/(lg) netcast\.tv/i],[s,i,[a,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[i,[s,"LG"],[a,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[s,"Lenovo"],[a,f]],[/linux;.+((jolla));/i],[s,i,[a,c]],[/((pebble))app\/[\d\.]+\s/i],[s,i,[a,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[s,i,[a,c]],[/crkey/i],[[i,"Chromecast"],[s,"Google"]],[/android.+;\s(glass)\s\d/i],[i,[s,"Google"],[a,"wearable"]],[/android.+;\s(pixel c)\s/i],[i,[s,"Google"],[a,f]],[/android.+;\s(pixel xl|pixel)\s/i],[i,[s,"Google"],[a,c]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[i,/_/g," "],[s,"Xiaomi"],[a,c]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[i,/_/g," "],[s,"Xiaomi"],[a,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[s,"Meizu"],[a,f]],[/android.+a000(1)\s+build/i],[i,[s,"OnePlus"],[a,c]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[i,[s,"RCA"],[a,f]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[i,[s,"Dell"],[a,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[i,[s,"Verizon"],[a,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[s,"Barnes & Noble"],i,[a,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[i,[s,"NuVision"],[a,f]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[s,"ZTE"],i,[a,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[i,[s,"Swiss"],[a,c]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[i,[s,"Swiss"],[a,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[i,[s,"Zeki"],[a,f]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[s,"Dragon Touch"],i,[a,f]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[i,[s,"Insignia"],[a,f]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[i,[s,"NextBook"],[a,f]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[s,"Voice"],i,[a,c]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[s,"LvTel"],i,[a,c]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[i,[s,"Envizen"],[a,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[s,i,[a,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[i,[s,"MachSpeed"],[a,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[s,i,[a,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[i,[s,"Rotor"],[a,f]],[/android.+(KS(.+))\s+build/i],[i,[s,"Amazon"],[a,f]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[s,i,[a,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,l.lowerize],s,i],[/(android.+)[;\/].+build/i],[i,[s,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,u],[/rv\:([\w\.]+).*(gecko)/i],[u,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[u,d.str,h.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[u,d.str,h.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],u],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,u],[/(haiku)\s(\w+)/i],[o,u],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,u]]},v=function(e,t){if("object"==typeof e&&(t=e,e=r),!(this instanceof v))return new v(e,t).getResult();var i=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),o=t?l.extend(p,t):p;return this.getBrowser=function(){var e={name:r,version:r};return d.rgx.call(e,i,o.browser),e.major=l.major(e.version),e},this.getCPU=function(){var e={architecture:r};return d.rgx.call(e,i,o.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return d.rgx.call(e,i,o.device),e},this.getEngine=function(){var e={name:r,version:r};return d.rgx.call(e,i,o.engine),e},this.getOS=function(){var e={name:r,version:r};return d.rgx.call(e,i,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};v.VERSION="0.7.17",v.BROWSER={NAME:o,MAJOR:"major",VERSION:u},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:i,VENDOR:s,TYPE:a,CONSOLE:"console",MOBILE:c,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:o,VERSION:u},v.OS={NAME:o,VERSION:u},e.exports&&(t=e.exports=v),t.UAParser=v;var y=n&&(n.jQuery||n.Zepto);if(void 0!==y){var m=new v;y.ua=m.getResult(),y.ua.get=function(){return m.getUA()},y.ua.set=function(e){m.setUA(e);var t=m.getResult();for(var n in t)y.ua[n]=t[n]}}}("object"==typeof window?window:Ee)});t.Log=vo,t.UAParser=yo,t.genTraversalHandler=j,t.deepClone=T,t.deepAssign=L,t.camelize=P,t.hypenate=C,t.bind=B,t.uuid=R,t.S4=D,t.rand=I,t.getDeepProperty=N,t.defined=i,t.isVoid=o,t.isArray=a,t.isFunction=s,t.isObject=u,t.isNumber=c,t.isNumeric=f,t.isInteger=l,t.isEmpty=d,t.isEvent=h,t.isBlob=p,t.isFile=v,t.isDate=y,t.isString=m,t.isBoolean=g,t.isPromise=b,t.isPrimitive=_,t.isUrl=w,t.isNode=S,t.isElement=k,t.isChildNode=O,t.isPosterityNode=E,t.isHTMLString=x,t.isError=A,t.isRegExp=M,t.inBrowser=Vi,t.makeArray=F,t.transObjectAttrIntoArray=z,t.runRejectableQueue=V,t.runStoppableQueue=G,t.decodeUTF8=W,t.debounce=H,t.throttle=K,t.raf=Gi,t.caf=qi,t.strRepeat=J,t.formatTime=X,t.appendCSS=Y,t.formatDate=$,t.getLocalStorage=Q,t.setLocalStorage=Z,t.emitEventCache=te,t.addEventCache=ne,t.removeEventCache=re,t.CustEvent=uo,t.getAttr=ce,t.setAttr=fe,t.addClassName=le,t.removeClassName=de,t.hasClassName=he,t.removeEvent=pe,t.addEvent=ve,t.addDelegate=ye,t.removeDelegate=me,t.getStyle=ge,t.setStyle=be,t.query=_e,t.removeEl=we,t.findParents=Se,t.$=ke,t.NodeWrap=po,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(18))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]).default});